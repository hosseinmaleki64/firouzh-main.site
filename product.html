<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ÿ≥ŸÅÿßÿ±ÿ¥ ÿ¢ŸÜŸÑÿß€åŸÜ ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ± ÿ™ÿßÿ≤Ÿá ÿØÿ± ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá - ÿ™ÿ≠Ÿà€åŸÑ €∂ ÿ≥ÿßÿπÿ™Ÿá ÿØÿ± ÿ™ÿ®ÿ±€åÿ≤ Ÿà ÿ¢ÿ∞ÿ±ÿ®ÿß€åÿ¨ÿßŸÜ ÿ¥ÿ±ŸÇ€å" />
  <meta name="keywords" content="ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ, ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ±, ÿ≥ŸÅÿßÿ±ÿ¥ ÿ¢ŸÜŸÑÿß€åŸÜ, ÿ™ÿ®ÿ±€åÿ≤, ŸÅ€åÿ±Ÿàÿ≤Ÿá" />
  <title>ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá - ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ±</title>
  <link href="https://cdn.jsdelivr.net/npm/@fontsource/shabnam@5.0.1/index.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/persian-date@1.1.0/dist/persian-date.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --header-h: 80px;
      --primary-color: #26A69A;
      --secondary-color: #1A7A6F;
      --background-color: #FFFFFF;
      --neutral-color: #E5E7EB;
      --text-dark: #4B5563;
      --text-light: #FFFFFF;
      --gradient-start: linear-gradient(135deg, var(--secondary-color), #2E2A3F);
      --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      --rating-color: #FFD700;
      --transition: all 0.3s ease; /* ÿßÿ∂ÿßŸÅŸá ÿ¥ÿØŸá ÿ®ÿ±ÿß€å ÿ¨ŸÑŸà⁄Ø€åÿ±€å ÿßÿ≤ ÿÆÿ∑ÿß ÿØÿ± var(--transition) */
    }

    html, body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    body {
      font-family: 'Shabnam', Arial, sans-serif;
      background: var(--background-color);
      color: var(--text-dark);
      line-height: 1.8;
      padding-top: 90px;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å navbar Ÿà ÿπŸÜÿßÿµÿ± ŸÖÿ±ÿ™ÿ®ÿ∑ */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      background: rgba(6, 77, 59, 0.9);
      backdrop-filter: blur(10px);
      color: var(--text-light);
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 1200px;
      z-index: 1001;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from { transform: translate(-50%, -100%); opacity: 0; }
      to { transform: translate(-50%, 0); opacity: 1; }
    }

    .menu-icon {
      font-size: 1.4rem;
      cursor: pointer;
      order: 1;
    }

    .menu-icon:hover i,
    .cart-link:hover i,
    .profile-link:hover i {
      transform: scale(1.1);
      transition: transform 0.2s ease;
    }

    .logo-search {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      order: 2;
      flex-direction: column;
    }

    .logo {
      font-family: 'Shabnam', 'IRANSans', 'Vazir', Arial, sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-light);
      text-decoration: none;
      text-transform: uppercase;
    }

    .logo img {
      height: 28px;
      width: auto;
    }

    .promo-text-mobile {
      font-size: 0.85rem;
      color: #FFD700;
      display: none;
      text-align: center;
      margin-top: 5px;
    }

    .search-box {
      position: relative;
      width: 280px;
      max-width: 100%;
      display: flex;
      align-items: center;
    }

    .search-box input {
      flex: 1;
      padding: 8px 40px 8px 40px;
      border: none;
      border-radius: 20px 0 0 20px;
      font-family: 'Shabnam', 'IRANSans', 'Vazir', Arial, sans-serif;
      font-size: 0.95rem;
      outline: none;
      direction: rtl;
      background: var(--text-light);
    }

    .search-icon, .clear-icon {
      background: var(--text-light);
      padding: 8px 12px;
      cursor: pointer;
      color: #666;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .search-icon {
      border-radius: 0 20px 20px 0;
    }

    .clear-icon {
      position: absolute;
      left: 0;
      display: none;
    }

    .clear-icon.active {
      display: flex;
    }

    .cart-profile {
      display: flex;
      align-items: center;
      gap: 12px;
      order: 3;
      position: relative;
    }

    .promo-text {
      font-size: 0.85rem;
      color: #FFD700;
      display: flex;
      align-items: center;
      gap: 5px;
      white-space: nowrap;
    }

    .cart-link, .profile-link {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: var(--text-light);
      position: relative;
      transition: color 0.3s;
    }

    .cart-link:hover, .profile-link:hover {
      color: var(--primary-color);
    }

    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #e63946;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 0.7rem;
    }

    .profile-icon {
      font-size: 1.1rem;
      cursor: pointer;
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--neutral-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
    }

    .user-menu {
      position: absolute;
      top: 50px;
      right: 0;
      background: white;
      color: black;
      border: 1px solid var(--neutral-color);
      width: 200px;
      padding: 10px;
      z-index: 1002;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: none;
    }

    .user-menu.active {
      display: block;
    }

    .user-menu .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .user-menu .user-info .avatar {
      font-size: 2rem;
    }

    .user-menu a, .user-menu button {
      display: block;
      padding: 8px;
      text-decoration: none;
      color: var(--text-dark);
      cursor: pointer;
    }

    .user-menu a:hover, .user-menu button:hover {
      background: var(--neutral-color);
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å side-menu */
    .side-menu {
      position: fixed;
      inset-block: 0;
      inset-inline-start: -100%;
      width: 200px;
      background: #064d3b;
      color: var(--text-light);
      border-right: 3px solid var(--primary-color);
      padding: 24px;
      overflow: auto;
      z-index: 1003;
      box-shadow: 12px 0 30px rgba(0, 0, 0, 0.2);
      transition: inset-inline-start 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .side-menu.active {
      inset-inline-start: 0;
    }

    .close-btn {
      font-size: 2rem;
      color: var(--text-light);
      cursor: pointer;
      line-height: 1;
      margin-bottom: 20px;
      transition: color 0.2s ease;
    }

    .close-btn:hover {
      color: var(--primary-color);
    }

    .nav-menu {
      list-style: none;
      margin-top: 50px;
    }

    .nav-category {
      margin-bottom: 20px;
    }

    .nav-category h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #FACA7F;
    }

    .sub-menu {
      list-style: none;
    }

    .sub-menu li {
      margin-bottom: 10px;
    }

    .sub-menu a {
      text-decoration: none;
      color: #eaebeb;
      font-size: 1rem;
      transition: var(--transition);
    }

    .sub-menu a:hover {
      color: #81D9e7;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1002;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å search-container */
    .search-container {
      position: fixed;
      inset-block-start: calc(var(--header-h) + 20px);
      inset-inline: 0;
      background: var(--background-color);
      padding: 24px;
      box-shadow: 0 4px 20px rgba(14, 13, 13, 0.358);
      z-index: 1002;
      display: none;
      direction: rtl;
    }

    .search-container.active {
      display: block;
    }

    .search-container input {
      width: calc(100% - 24px);
      padding: 14px;
      border: 2px solid var(--primary-color);
      border-radius: 8px;
      font-family: 'Shabnam', 'IRANSans', 'Vazir', Arial, sans-serif;
      font-size: 1.1rem;
      transition: var(--transition);
      direction: rtl;
    }

    .search-container input:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(38, 166, 154, 0.2);
    }

    .search-results {
      margin-top: 16px;
      max-height: 300px;
      overflow-y: auto;
      background: var(--neutral-color);
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .search-results .result-item {
      padding: 12px;
      border-bottom: 1px solid rgba(38, 166, 154, 0.2);
      color: var(--text-dark);
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .search-results .result-item:hover {
      background: rgba(38, 166, 154, 0.1);
      color: var(--primary-color);
    }

    .search-results .no-results {
      color: #D32F2F;
      font-size: 1rem;
      text-align: center;
      padding: 12px;
    }

    main {
      max-width: 1400px;
      margin: 0 auto;
      padding: 24px;
    }

    .main-container {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 40px;
      padding: 0 1rem;
      margin: 2rem auto;
    }

    .product-section {
      animation: fadeIn 0.6s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å product-detail */
    .product-detail {
      background: var(--background-color);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow);
      transition: box-shadow 0.3s ease;
      display: flex;
      gap: 1.5rem;
      margin-top: 20px;
    }

    .product-detail:hover,
    .cart-panel:hover {
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .product-gallery {
      flex: 0 0 350px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .product-main-image {
      width: 350px;
      height: 200px;
      object-fit: cover;
      border-radius: 10px;
      transition: transform 0.3s ease;
      cursor: pointer;
    }

    .product-main-image:hover {
      transform: scale(1.02);
    }

    .product-thumbnails {
      display: flex;
      gap: 0.5rem;
      justify-content: flex-start;
    }

    .product-thumbnail {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: var(--transition);
    }

    .product-thumbnail.active {
      border-color: var(--primary-color);
    }

    .product-thumbnail:hover {
      transform: scale(1.1);
      border-color: var(--primary-color);
    }

    .product-content {
      flex: 1;
    }

    .product-title {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--primary-color);
    }

    .product-desc {
      color: var(--text-dark);
      font-size: 1.1rem;
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .product-desc ul {
      list-style-type: none;
      padding: 0;
    }

    .product-desc li {
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--neutral-color);
    }

    .product-desc li:before {
      content: "üç¥ ";
      font-size: 1.2rem;
    }

    .size-selector {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .size-btn {
      padding: 0.6rem 1.2rem;
      border: 2px solid var(--neutral-color);
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: var(--transition);
      background: var(--background-color);
      color: var(--text-dark);
    }

    .size-btn.active {
      background: var(--primary-color);
      color: var(--text-light);
      border-color: var(--primary-color);
    }

    .size-btn:hover {
      background: rgba(38, 166, 154, 0.1);
      border-color: var(--primary-color);
    }

    .quantity-section {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      background: var(--neutral-color);
      padding: 0.8rem;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }

    .quantity-section label {
      font-weight: 600;
      color: var(--text-dark);
    }

    .quantity-control {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--background-color);
      border: 2px solid var(--primary-color);
      border-radius: 8px;
      padding: 0.5rem;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å quantity-btn ÿ®ÿ±ÿß€å ŸÖÿ¥ÿ™ÿ±⁄©ÿßÿ™ */
    .quantity-btn {
      width: 35px;
      height: 35px;
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .quantity-btn:hover {
      background: var(--secondary-color);
      transform: scale(1.05);
    }

    .quantity-input {
      width: 60px;
      text-align: center;
      border: none;
      font-size: 1.1rem;
      background: transparent;
      outline: none;
      font-family: 'Shabnam', Arial, sans-serif;
      color: var(--text-dark);
    }

    .quantity-input:focus {
      outline: none;
    }

    .build-meal {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      margin: 1rem 0;
    }

    .ingredient {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem;
      border: 2px solid var(--neutral-color);
      border-radius: 10px;
      cursor: pointer;
      transition: var(--transition);
      background: var(--background-color);
    }

    .ingredient input[type="checkbox"] {
      display: none;
    }

    .ingredient img {
      width: 40px;
      height: 40px;
      object-fit: cover;
      border-radius: 5px;
      transition: transform 0.3s ease;
    }

    .ingredient:hover img {
      transform: scale(1.1);
    }

    .ingredient span {
      font-size: 1rem;
      font-weight: 500;
    }

    .ingredient.active {
      border-color: var(--primary-color);
      background: rgba(38, 166, 154, 0.1);
    }

    .add-to-cart {
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      margin-top: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: var(--transition);
      box-shadow: var(--shadow);
      width: 100%;
    }

    .add-to-cart:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
      animation: bounce 0.6s ease;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }

    .price-display {
      font-weight: 700;
      font-size: 1.2rem;
    }

    .cart-panel {
      background: var(--background-color);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow);
      height: fit-content;
      position: sticky;
      top: calc(var(--header-h) + 20px);
      transition: box-shadow 0.3s ease;
    }

    .cart-header {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--primary-color);
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 0;
      border-bottom: 1px solid var(--neutral-color);
      transition: background 0.3s ease;
    }

    .cart-item:hover {
      background: rgba(38, 166, 154, 0.05);
    }

    .cart-item img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      border-radius: 5px;
    }

    .cart-item span {
      font-size: 1rem;
      flex: 1;
      margin: 0 0.5rem;
    }

    .quantity {
      display: flex;
      gap: 0.3rem;
      align-items: center;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å quantity-btn ÿ®ÿ±ÿß€å cart-item */
    .cart-item .quantity-btn {
      width: 30px;
      height: 30px;
      font-size: 1rem;
    }

    .promo-section {
      margin: 1.5rem 0;
    }

    .promo-input {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid var(--neutral-color);
      border-radius: 8px;
      font-size: 1rem;
      font-family: 'Shabnam', Arial, sans-serif;
      direction: rtl;
      background: var(--background-color);
      color: var(--text-dark);
      margin-bottom: 0.5rem;
    }

    .promo-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(38, 166, 154, 0.2);
    }

    .apply-promo-btn {
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: var(--transition);
      width: 100%;
    }

    .apply-promo-btn:hover {
      background: var(--secondary-color);
    }

    .discount {
      color: #28a745;
      font-weight: 600;
      font-size: 1rem;
      margin: 0.5rem 0;
    }

    .total {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      margin: 1rem 0;
      color: var(--primary-color);
    }

    .confirm-btn {
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
      padding: 0.9rem;
      border-radius: 12px;
      cursor: pointer;
      width: 100%;
      font-size: 1.1rem;
      font-weight: 600;
      transition: var(--transition);
      box-shadow: var(--shadow);
    }

    .confirm-btn:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
    }

    .delivery-free {
      text-align: center;
      color: #28a745;
      font-size: 1rem;
      margin-top: 0.5rem;
      font-weight: 500;
    }

    .recommendations {
      margin-top: 2rem;
      animation: fadeIn 0.8s ease-out 0.2s both;
    }

    .recommendations h2,
    .other-products h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .rec-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å rec-item Ÿà other-product-item ÿ®ÿ±ÿß€å ŸÖÿ¥ÿ™ÿ±⁄©ÿßÿ™ */
    .rec-item,
    .other-product-item {
      text-align: center;
      cursor: pointer;
      padding: 1rem;
      border: 2px solid var(--neutral-color);
      border-radius: 12px;
      background: var(--background-color);
      transition: var(--transition);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .rec-item {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .rec-item:nth-child(1) { animation-delay: 0.1s; }
    .rec-item:nth-child(2) { animation-delay: 0.2s; }
    .rec-item:nth-child(3) { animation-delay: 0.3s; }

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .rec-item:hover,
    .other-product-item:hover {
      border-color: var(--primary-color);
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .rec-item img,
    .other-product-item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 0.5rem;
    }

    .rec-item p,
    .other-product-item p {
      font-size: 1rem;
      margin-bottom: 0.3rem;
      color: var(--text-dark);
    }

    .rec-item span,
    .other-product-item span {
      font-weight: 600;
      color: var(--primary-color);
      display: block;
      margin-bottom: 0.5rem;
    }

    .rec-item .rating,
    .other-product-item .rating {
      color: var(--rating-color);
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .rec-item button,
    .other-product-item button {
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 500;
      transition: var(--transition);
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      width: 100%;
    }

    .rec-item button:hover,
    .other-product-item button:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
    }

    .other-products {
      margin-top: 4rem;
      padding-top: 2rem;
      border-top: 2px solid var(--neutral-color);
    }

    .slider-container {
      position: relative;
      overflow: hidden;
      border-radius: 12px;
    }

    .slider-track {
      display: flex;
      gap: 20px;
      transition: transform 0.3s ease;
      width: calc(100% + 20px);
    }

    .other-product-item {
      flex: 0 0 200px;
      min-width: 200px;
    }

    .slider-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(38, 166, 154, 0.8);
      color: var(--text-light);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: var(--transition);
      display: none;
      z-index: 10;
    }

    .slider-nav:hover {
      background: var(--secondary-color);
      transform: translateY(-50%) scale(1.1);
    }

    .slider-nav.prev {
      left: 10px;
    }

    .slider-nav.next {
      right: 10px;
    }

    .slider-container:hover .slider-nav {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å footer */
    footer {
      background: var(--gradient-start);
      color: var(--text-light);
      text-align: center;
      padding: 40px 20px;
      border-radius: var(--border-radius); /* var(--border-radius) ÿ™ÿπÿ±€åŸÅ ŸÜÿ¥ÿØŸáÿå ÿß⁄Øÿ± ŸÑÿßÿ≤ŸÖ ŸÜ⁄ØŸá ÿØÿßÿ± €åÿß ÿ≠ÿ∞ŸÅ */
      margin-top: 20px;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><circle cx="20" cy="20" r="5" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="3" fill="rgba(255,255,255,0.1)"/></svg>');
      background-size: 100px 100px;
    }

    footer h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin: 0 0 15px;
      color: var(--primary-color);
      position: relative;
      z-index: 1;
    }

    footer p {
      max-width: 600px;
      margin: 0 auto 20px;
      font-size: 0.95rem;
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }

    footer .links {
      margin: 20px 0;
      position: relative;
      z-index: 1;
    }

    footer a {
      color: var(--text-light);
      text-decoration: none;
      margin: 0 15px;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all 0.2s ease;
      padding: 8px 15px;
      border-radius: 8px;
    }

    footer a:hover {
      color: var(--primary-color);
      background: rgba(255, 255, 255, 0.1);
    }

    footer .contact-info {
      font-size: 1rem;
      margin: 20px 0;
      font-weight: 500;
      position: relative;
      z-index: 1;
    }

    #clock {
      color: var(--text-light);
      margin-top: 15px;
      font-weight: 500;
      font-size: 0.95rem;
      position: relative;
      z-index: 1;
    }

    footer .copyright {
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.85rem;
      position: relative;
      z-index: 1;
    }

    .social-bar {
      background: transparent;
      display: flex;
      justify-content: center;
      gap: 12px;
      padding: 15px 0;
      margin-top: 25px;
      flex-wrap: nowrap;
      position: relative;
      z-index: 1;
    }

    .social-box {
      width: 70px;
      height: 70px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--primary-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--text-light);
      text-decoration: none;
      font-size: 0.8rem;
      font-weight: 500;
      transition: var(--transition);
      cursor: pointer;
      border-radius: 12px;
    }

    .social-box img {
      width: 24px;
      height: 24px;
      margin-bottom: 5px;
      object-fit: contain;
    }

    .social-box:hover {
      background: var(--primary-color);
      color: var(--text-light);
      transform: scale(1.05);
    }

    .logo-box {
      width: 70px;
      height: 70px;
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      transition: var(--transition);
    }

    .logo-box img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .logo-box:hover {
      transform: scale(1.05);
    }

    .support-widget {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #1A1A1A;
      color: #FFFFFF;
      padding: 10px 20px;
      border-radius: 8px;
      box-shadow: var(--shadow);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1rem;
    }

    .support-widget a {
      display: inline-block;
      padding: 8px 16px;
      background: #4CAF50;
      color: #FFFFFF;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s ease;
    }

    .support-widget a:hover {
      background: #45a049;
    }

    .support-widget .text {
      flex-grow: 1;
      text-align: right;
      font-size: 0.9rem;
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å auth-modal */
    .auth-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1004;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .auth-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .auth-modal-content {
      background: var(--background-color);
      border-radius: 16px;
      padding: 32px;
      width: 100%;
      max-width: 420px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      direction: rtl;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .auth-modal.active .auth-modal-content {
      transform: scale(1);
    }

    .auth-modal-close {
      position: absolute;
      top: 16px;
      left: 16px;
      font-size: 1.8rem;
      color: var(--primary-color);
      cursor: pointer;
      transition: all 0.2s ease;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .auth-modal-close:hover {
      color: var(--secondary-color);
      background: rgba(38, 166, 154, 0.1);
    }

    .auth-modal-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .auth-modal-header .site-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 1.4rem;
      font-weight: 700;
    }

    .auth-modal-header .site-logo img {
      height: 28px;
    }

    .auth-modal-header h2 {
      color: var(--primary-color);
      font-size: 1.8rem;
      margin: 8px 0 4px;
    }

    .auth-modal-header .greeting {
      font-size: 1.2rem;
      margin: 0;
      color: var(--text-dark);
    }

    .auth-modal-header p {
      color: var(--text-dark);
      font-size: 1rem;
      margin: 4px 0 16px;
    }

    .wizard-step {
      display: none;
    }

    .wizard-step.active {
      display: block;
    }

    .auth-form label {
      display: block;
      margin-bottom: 10px;
      font-size: 1.1rem;
      color: var(--text-dark);
      font-weight: 500;
    }

    .auth-form input {
      width: 100%;
      padding: 14px;
      border: 2px solid var(--neutral-color);
      border-radius: 12px;
      font-family: 'Shabnam', 'IRANSans', 'Vazir', Arial, sans-serif;
      font-size: 1.1rem;
      transition: var(--transition);
      box-sizing: border-box;
      direction: ltr;
      text-align: center;
      margin-bottom: 16px;
    }

    .auth-form input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(38, 166, 154, 0.2);
    }

    .auth-form button {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 12px;
      background: var(--primary-color);
      color: var(--text-light);
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      margin-top: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .auth-form button:hover {
      background: var(--secondary-color);
      color: var(--text-light);
      transform: translateY(-2px);
    }

    .auth-form button:active {
      transform: translateY(0);
    }

    .auth-form .error {
      color: #D32F2F;
      font-size: 0.95rem;
      margin-top: 10px;
      display: none;
      text-align: center;
    }

    .auth-form .success {
      color: #388E3C;
      font-size: 0.95rem;
      margin-top: 10px;
      display: none;
      text-align: center;
    }

    .auth-form .timer {
      color: var(--text-dark);
      font-size: 0.9rem;
      text-align: center;
      margin-top: 8px;
      display: none;
    }

    .auth-form .terms {
      font-size: 0.85rem;
      color: var(--text-dark);
      text-align: center;
      margin-top: 8px;
    }

    .wizard-buttons {
      display: flex;
      gap: 16px;
      margin-top: 16px;
    }

    .wizard-buttons button {
      flex: 1;
    }

    .wizard-buttons .prev {
      background: var(--neutral-color);
      color: var(--text-dark);
    }

    .wizard-buttons .prev:hover {
      background: #ccc;
    }

    .character-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin: 24px 0;
    }

    .character-card {
      background: var(--neutral-color);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      font-size: 2rem;
      font-weight: bold;
      color: var(--text-dark);
    }

    .character-card:hover {
      background: var(--primary-color);
      color: var(--text-light);
      transform: translateY(-3px);
    }

    .character-card.selected {
      background: var(--primary-color);
      color: var(--text-light);
      box-shadow: 0 4px 15px rgba(38, 166, 154, 0.3);
    }

    /* ⁄Øÿ±ŸàŸá‚Äåÿ®ŸÜÿØ€å logout-modal */
    .logout-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1005;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .logout-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .logout-modal-content {
      background: var(--background-color);
      border-radius: 16px;
      padding: 32px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      direction: rtl;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      text-align: center;
    }

    .logout-modal.active .logout-modal-content {
      transform: scale(1);
    }

    .logout-modal-content h2 {
      color: var(--primary-color);
      font-size: 1.6rem;
      margin: 0 0 12px;
    }

    .logout-modal-content p {
      color: var(--text-dark);
      font-size: 0.9rem;
      margin: 0 0 24px;
    }

    .logout-buttons {
      display: flex;
      gap: 16px;
    }

    .logout-buttons button {
      flex: 1;
      padding: 12px;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .logout-buttons .confirm {
      background: var(--primary-color);
      color: var(--text-light);
      border: none;
    }

    .logout-buttons .confirm:hover {
      background: var(--secondary-color);
    }

    .logout-buttons .cancel {
      background: var(--neutral-color);
      color: var(--text-dark);
      border: none;
    }

    .logout-buttons .cancel:hover {
      background: #ccc;
    }

    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid #fff;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .username-strength {
      height: 5px;
      background: #ddd;
      margin-top: -10px;
      margin-bottom: 10px;
      border-radius: 3px;
    }

    .username-strength.weak { background: red; }
    .username-strength.medium { background: orange; }
    .username-strength.strong { background: green; }

    .input-group {
      position: relative;
    }

    .toggle-visibility {
      position: absolute;
      top: 50%;
      left: 10px;
      transform: translateY(-50%);
      cursor: pointer;
      color: #666;
    }

    #resendCodeBtn {
      display: none;
      width: 100%;
      margin-top: 10px;
    }

    img {
      max-width: 100%;
      height: auto;
    }

    /* ÿßÿØÿ∫ÿßŸÖ media queryŸáÿß ÿ®ÿ±ÿß€å ÿ®Ÿá€åŸÜŸá‚Äåÿ≥ÿßÿ≤€å */
    @media (max-width: 992px) {
      .main-container {
        grid-template-columns: 1fr;
      }

      .cart-panel {
        position: static;
        margin-top: 2rem;
        order: -1;
      }

      .product-section {
        order: 1;
      }

      .slider-track {
        width: calc(200% + 20px);
      }
    }

    @media (max-width: 768px) {
      .product-main-image {
        width: 300px;
        height: 180px;
      }

      .product-title {
        font-size: 2rem;
      }

      .product-desc {
        font-size: 1rem;
      }

      .size-btn {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
      }

      .ingredient span {
        font-size: 0.9rem;
      }

      .add-to-cart {
        font-size: 1rem;
        padding: 0.7rem 1.2rem;
      }

      .rec-item img,
      .other-product-item img {
        height: 100px;
      }

      .rec-item p,
      .other-product-item p {
        font-size: 0.9rem;
      }

      .rec-item span,
      .other-product-item span {
        font-size: 0.95rem;
      }

      .rec-item button,
      .other-product-item button {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
      }

      .navbar {
        width: 95%;
        padding: 10px 15px;
        border-radius: 15px;
      }

      .logo-search {
        flex-direction: column;
        gap: 10px;
      }

      .search-box {
        width: 100%;
      }

      .logo {
        font-size: 1.2rem;
      }

      .promo-text {
        display: none;
      }

      .promo-text-mobile {
        display: block;
      }

      main {
        padding: 15px;
      }

      .quantity-section {
        flex-direction: column;
        align-items: flex-start;
      }

      .quantity-control {
        width: 100%;
        justify-content: center;
      }

      .product-detail {
        flex-direction: column;
      }

      .product-gallery {
        flex: 0 0 auto;
        width: 100%;
      }

      .product-main-image {
        width: 100%;
      }

      .slider-nav {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
    }

    @media (max-width: 576px) {
      .product-title {
        font-size: 1.8rem;
      }

      .product-desc {
        font-size: 0.95rem;
      }

      .size-btn {
        font-size: 0.85rem;
        padding: 0.4rem 0.8rem;
      }

      .ingredient img {
        width: 32px;
        height: 32px;
      }

      .ingredient span {
        font-size: 0.85rem;
      }

      .add-to-cart {
        font-size: 0.95rem;
        padding: 0.6rem 1rem;
      }

      .cart-item span {
        font-size: 0.9rem;
      }

      .quantity-btn {
        width: 25px;
        height: 25px;
        font-size: 0.9rem;
      }

      .promo-input {
        font-size: 0.9rem;
      }

      .total {
        font-size: 1.3rem;
      }

      .confirm-btn {
        font-size: 1rem;
      }

      .social-bar {
        gap: 8px;
      }

      .social-box,
      .logo-box {
        width: 60px;
        height: 60px;
        font-size: 0.7rem;
      }

      .social-box img {
        width: 20px;
        height: 20px;
      }

      .product-main-image {
        height: 150px;
      }

      .product-thumbnails {
        flex-wrap: wrap;
      }

      .product-thumbnail {
        width: 60px;
        height: 60px;
      }

      .quantity-input {
        width: 50px;
        font-size: 1rem;
      }

      .other-product-item {
        flex: 0 0 180px;
        min-width: 180px;
      }

      .slider-track {
        width: calc(300% + 20px);
      }

      .navbar {
        padding: 8px 12px;
        top: 5px;
        width: 95%;
        border-radius: 12px;
      }

      .menu-icon {
        font-size: 1.2rem;
      }

      .logo {
        font-size: 1.1rem;
      }

      .logo img {
        height: 24px;
      }

      .cart-link i,
      .profile-icon {
        font-size: 1rem;
      }

      .cart-badge {
        top: -6px;
        right: -6px;
        font-size: 0.6rem;
        padding: 1px 4px;
      }

      .search-box input {
        padding: 6px 30px 6px 30px;
        font-size: 0.85rem;
      }

      .search-icon,
      .clear-icon {
        padding: 6px 10px;
      }

      main {
        padding: 12px;
      }

      .main-container {
        gap: 20px;
        margin: 1rem auto;
        display: flex;
        flex-direction: column;
      }

      .product-detail {
        padding: 1rem;
        border-radius: 10px;
        flex-direction: column;
        margin-top: 20px;
      }

      .product-content {
        padding: 0;
      }

      .product-title {
        font-size: 1.6rem;
        margin-bottom: 0.3rem;
      }

      .product-desc {
        font-size: 0.9rem;
        line-height: 1.5;
      }

      .product-desc li {
        padding: 0.3rem 0;
        font-size: 0.85rem;
      }

      .product-desc li:before {
        font-size: 1rem;
      }

      .size-selector {
        gap: 0.3rem;
        margin-bottom: 0.8rem;
        flex-wrap: wrap;
      }

      .size-btn {
        padding: 0.4rem 0.8rem;
        font-size: 0.8rem;
        border-radius: 8px;
        flex: 1 1 calc(33% - 0.3rem);
        min-width: 80px;
      }

      .quantity-section {
        padding: 0.6rem;
        border-radius: 8px;
        margin-bottom: 0.8rem;
      }

      .quantity-section label {
        font-size: 0.9rem;
      }

      .quantity-control {
        padding: 0.3rem;
        border-radius: 6px;
      }

      .quantity-btn {
        width: 28px;
        height: 28px;
        font-size: 1rem;
      }

      .quantity-input {
        width: 40px;
        font-size: 0.9rem;
      }

      .build-meal {
        gap: 0.5rem;
        margin: 0.8rem 0;
        flex-wrap: wrap;
      }

      .ingredient {
        padding: 0.4rem;
        border-radius: 8px;
        flex: 1 1 calc(50% - 0.5rem);
        min-width: 120px;
      }

      .ingredient img {
        width: 28px;
        height: 28px;
      }

      .ingredient span {
        font-size: 0.75rem;
      }

      .add-to-cart {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        border-radius: 8px;
        margin-top: 0.8rem;
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }

      .price-display {
        font-size: 1rem;
      }

      .cart-panel {
        padding: 1rem;
        border-radius: 10px;
        order: 2;
      }

      .cart-header {
        font-size: 1.2rem;
        margin-bottom: 0.8rem;
      }

      .cart-item {
        padding: 0.6rem 0;
        flex-direction: row-reverse;
        justify-content: flex-end;
        gap: 10px;
      }

      .cart-item img {
        width: 40px;
        height: 40px;
        margin-left: 10px;
      }

      .cart-item span {
        font-size: 0.85rem;
        text-align: right;
        flex: 1;
      }

      .quantity-btn {
        width: 24px;
        height: 24px;
        font-size: 0.8rem;
      }

      .promo-section {
        margin: 1rem 0;
      }

      .promo-input {
        padding: 0.6rem;
        font-size: 0.85rem;
        border-radius: 6px;
      }

      .apply-promo-btn {
        padding: 0.5rem 0.8rem;
        font-size: 0.85rem;
        border-radius: 6px;
      }

      .discount {
        font-size: 0.85rem;
      }

      .total {
        font-size: 1.2rem;
        margin: 0.8rem 0;
      }

      .confirm-btn {
        padding: 0.7rem;
        font-size: 0.95rem;
        border-radius: 8px;
      }

      .delivery-free {
        font-size: 0.85rem;
      }

      .recommendations {
        margin-top: 1.5rem;
        order: 1;
      }

      .recommendations h2 {
        font-size: 1.4rem;
        margin-bottom: 1rem;
      }

      .rec-grid {
        gap: 15px;
        grid-template-columns: 1fr;
      }

      .rec-item {
        padding: 0.8rem;
        border-radius: 10px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 15px;
        text-align: right;
      }

      .rec-item img {
        height: 80px;
        width: 80px;
        margin-bottom: 0;
        flex-shrink: 0;
      }

      .rec-item .rec-content {
        flex: 1;
        text-align: right;
      }

      .rec-item p {
        font-size: 0.8rem;
        margin-bottom: 0.2rem;
      }

      .rec-item span {
        font-size: 0.85rem;
        margin-bottom: 0.3rem;
      }

      .rec-item .rating {
        font-size: 0.7rem;
        margin-bottom: 0.3rem;
      }

      .rec-item button {
        padding: 0.3rem 0.6rem;
        font-size: 0.75rem;
        border-radius: 8px;
        width: auto;
        min-width: 80px;
      }

      .other-products {
        margin-top: 2rem;
        padding-top: 1.5rem;
        order: 3;
      }

      .other-products h2 {
        font-size: 1.4rem;
        margin-bottom: 1rem;
      }

      .slider-container {
        overflow-x: auto;
        scrollbar-width: none;
      }

      .slider-container::-webkit-scrollbar {
        display: none;
      }

      .slider-track {
        display: flex;
        flex-direction: row;
        width: max-content;
        gap: 15px;
        padding: 10px 0;
      }

      .other-product-item {
        padding: 0.8rem;
        border-radius: 10px;
        min-width: 150px;
        flex: 0 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .other-product-item img {
        height: 80px;
        width: 80px;
        margin-bottom: 0.3rem;
      }

      .other-product-item p {
        font-size: 0.8rem;
        margin-bottom: 0.2rem;
      }

      .other-product-item span {
        font-size: 0.85rem;
      }

      .other-product-item .rating {
        font-size: 0.7rem;
        margin-bottom: 0.3rem;
      }

      .other-product-item button {
        padding: 0.3rem 0.6rem;
        font-size: 0.75rem;
        border-radius: 8px;
        margin-top: 0.3rem;
        width: 100%;
      }

      .slider-nav {
        display: none !important;
      }

      footer {
        padding: 20px 15px;
      }

      footer h2 {
        font-size: 1.4rem;
        margin: 0 0 10px;
      }

      footer p {
        font-size: 0.8rem;
        margin: 0 auto 15px;
      }

      footer .links {
        margin: 15px 0;
      }

      footer a {
        font-size: 0.75rem;
        margin: 0 8px;
        padding: 6px 10px;
      }

      footer .contact-info {
        font-size: 0.8rem;
        margin: 15px 0;
      }

      #clock {
        font-size: 0.8rem;
        margin-top: 10px;
      }

      footer .copyright {
        margin-top: 15px;
        padding-top: 15px;
        font-size: 0.7rem;
      }

      .social-bar {
        gap: 6px;
        padding: 10px 0;
        justify-content: space-between;
      }

      .social-box,
      .logo-box {
        width: 50px;
        height: 50px;
        font-size: 0.55rem;
      }

      .social-box img {
        width: 16px;
        height: 16px;
        margin-bottom: 3px;
      }

      .support-widget {
        bottom: 10px;
        right: 10px;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 0.8rem;
        gap: 6px;
        opacity: 1;
        transition: opacity 0.3s ease;
      }

      .support-widget.hidden {
        opacity: 0;
      }

      .support-widget a {
        padding: 6px 10px;
        font-size: 0.75rem;
        border-radius: 4px;
      }

      .support-widget .text {
        font-size: 0.7rem;
      }

      .auth-modal-content {
        padding: 20px;
        max-width: 95%;
        max-height: 90vh;
      }

      .auth-modal-close {
        top: 12px;
        left: 12px;
        font-size: 1.5rem;
        width: 30px;
        height: 30px;
      }

      .auth-modal-header .site-logo {
        font-size: 1.2rem;
      }

      .auth-modal-header .site-logo img {
        height: 24px;
      }

      .auth-modal-header h2 {
        font-size: 1.4rem;
        margin: 6px 0 2px;
      }

      .auth-modal-header .greeting {
        font-size: 1rem;
      }

      .auth-modal-header p {
        font-size: 0.85rem;
        margin: 2px 0 12px;
      }

      .auth-form label {
        font-size: 0.9rem;
        margin-bottom: 8px;
      }

      .auth-form input {
        padding: 12px;
        font-size: 0.9rem;
        border-radius: 8px;
        margin-bottom: 12px;
      }

      .auth-form button {
        padding: 14px;
        font-size: 1rem;
        border-radius: 8px;
        margin-top: 6px;
      }

      .auth-form .error,
      .auth-form .success {
        font-size: 0.8rem;
        margin-top: 8px;
      }

      .auth-form .timer {
        font-size: 0.8rem;
        margin-top: 6px;
      }

      .auth-form .terms {
        font-size: 0.75rem;
        margin-top: 6px;
      }

      .wizard-buttons {
        gap: 12px;
        margin-top: 12px;
      }

      .character-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin: 16px 0;
      }

      .character-card {
        padding: 15px;
        font-size: 1.5rem;
      }

      .logout-modal-content {
        padding: 20px;
        max-width: 95%;
      }

      .logout-modal-content h2 {
        font-size: 1.3rem;
        margin: 0 0 8px;
      }

      .logout-modal-content p {
        font-size: 0.8rem;
        margin: 0 0 16px;
      }

      .logout-buttons {
        gap: 12px;
      }

      .logout-buttons button {
        padding: 10px;
        font-size: 0.9rem;
        border-radius: 8px;
      }

      .side-menu {
        width: 280px;
        padding: 20px;
      }

      .close-btn {
        font-size: 1.8rem;
        margin-bottom: 15px;
      }

      .nav-menu h3 {
        font-size: 1.1rem;
      }

      .sub-menu a {
        font-size: 0.9rem;
        padding: 8px 0;
      }

      .search-container {
        padding: 16px;
      }

      .search-container input {
        padding: 12px;
        font-size: 0.9rem;
        border-radius: 6px;
      }

      .search-results {
        margin-top: 12px;
        max-height: 250px;
        border-radius: 6px;
        padding: 8px;
      }

      .search-results .result-item {
        padding: 8px;
        font-size: 0.85rem;
      }

      .search-results .no-results {
        font-size: 0.85rem;
        padding: 8px;
      }
    }
  </style>
</head>
<body data-theme="light">
  <!-- Schema.org for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Product",
    "name": "ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ±",
    "image": "https://placehold.co/400x300/26A69A/FFFFFF?text=ÿ±ÿßÿ™€å‚ÄåŸÜ€å+ÿØŸÑÿß€åÿ™",
    "description": "€å⁄© Ÿæÿßÿ≥ÿ™ÿß€å ÿÆŸàÿ¥ŸÖÿ≤Ÿá Ÿà Ÿæÿ±ÿßÿØŸà€åŸá ÿ®ÿß ÿ±ÿßÿ™€å‚ÄåŸÜ€åÿå ⁄ØŸàÿ¨Ÿá‚ÄåŸÅÿ±ŸÜ⁄Ø€å ÿÆÿ¥⁄©‚Äåÿ¥ÿØŸá Ÿà ÿ≥ÿ≥ ÿ∫ŸÑ€åÿ∏ ⁄ØŸàÿ¨Ÿá. ŸÖŸÜÿßÿ≥ÿ® ÿ®ÿ±ÿß€å ÿØŸàÿ±ŸáŸÖ€å‚ÄåŸáÿß Ÿà ÿ≥ŸÅÿßÿ±ÿ¥ ÿ¢ŸÜŸÑÿß€åŸÜ ÿØÿ± ŸÅ€åÿ±Ÿàÿ≤Ÿá.",
    "sku": "ROTINI-DELIGHT-001",
    "brand": {
      "@type": "Brand",
      "name": "ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá"
    },
    "offers": {
      "@type": "Offer",
      "url": "https://firouzeh.com/product/ratiny-delight",
      "priceCurrency": "IRR",
      "price": "45000",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>
  <header class="navbar">
    <div class="menu-icon" role="button" aria-label="ÿ®ÿßÿ≤ ⁄©ÿ±ÿØŸÜ ŸÖŸÜŸà" aria-controls="sideMenu" aria-expanded="false">
      <i class="fas fa-bars"></i>
    </div>
    <div class="logo-search">
      <a href="index.html" class="logo">
        <img src="image1/logo.png" alt="ŸÑŸà⁄ØŸà€å ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá" loading="lazy loading">
        FIROUZEH
      </a>
      <div class="promo-text-mobile" id="promoTextMobile">‚ö°ÿ®Ÿáÿ™ÿ±€åŸÜ ÿ¢ŸÖŸàÿ≤ÿ¥‚ÄåŸáÿß€å ŸÅ€åŸÜ⁄Øÿ± ŸÅŸàÿØ Ÿà ÿ≥ŸÑÿßŸÖÿ™ ÿ∫ÿ∞ÿß€å€å!</div>
      <div class="search-box">
        <input
          type="text"
          placeholder="ÿ¨ÿ≥ÿ™ÿ¨Ÿà ÿØÿ± ŸÖÿ≠ÿµŸàŸÑÿßÿ™..."
          id="searchInput"
          aria-label="ÿ¨ÿ≥ÿ™ÿ¨Ÿà€å ŸÖÿ≠ÿµŸàŸÑÿßÿ™"
        >
        <div class="clear-icon" id="clearSearch"><i class="fas fa-times"></i></div>
        <div class="search-icon"><i class="fas fa-search"></i></div>
      </div>
    </div>
    <div class="cart-profile">
      <div class="promo-text" id="promoText">‚ö°ÿ®Ÿáÿ™ÿ±€åŸÜ ÿ¢ŸÖŸàÿ≤ÿ¥‚ÄåŸáÿß€å ŸÅ€åŸÜ⁄Øÿ± ŸÅŸàÿØ Ÿà ÿ≥ŸÑÿßŸÖÿ™ ÿ∫ÿ∞ÿß€å€å!</div>
      <a href="cart.html" class="cart-link" role="button" aria-label="ÿ≥ÿ®ÿØ ÿÆÿ±€åÿØ">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-badge">3</span>
      </a>
      <div class="profile-link" role="button" aria-label="Ÿàÿ±ŸàÿØ €åÿß ÿ´ÿ®ÿ™ ŸÜÿßŸÖ" id="userProfile">
        <i class="fas fa-user profile-icon" id="profileIcon"></i>
      </div>
      <div class="user-menu" id="userMenu">
        <div class="user-info">
          <span class="avatar" id="userAvatar"></span>
          <span id="userName"></span>
        </div>
        <a href="cart.html">ÿ≥ÿ®ÿØ ÿÆÿ±€åÿØ</a>
        <button id="logoutBtn">ÿÆÿ±Ÿàÿ¨</button>
      </div>
    </div>
  </header>
  <div class="overlay" id="overlay"></div>
  <nav class="side-menu" id="sideMenu" aria-hidden="true" tabindex="-1">
    <div class="close-btn" aria-label="ÿ®ÿ≥ÿ™ŸÜ ŸÖŸÜŸà">√ó</div>
    <ul class="nav-menu">
      <li class="nav-category">
        <h3>ÿØÿ≥ÿ™Ÿá‚Äåÿ®ŸÜÿØ€å ŸÖÿ≠ÿµŸàŸÑÿßÿ™</h3>
        <ul class="sub-menu">
          <li><a href="#products">ÿßŸÜŸàÿßÿπ ŸÖÿ≠ÿµŸàŸÑÿßÿ™</a></li>
          <li><a href="#subcategories">ÿ∑ÿ®ŸÇŸá‚Äåÿ®ŸÜÿØ€å ÿ¨ÿßŸÜÿ®€å</a></li>
        </ul>
      </li>
      <li class="nav-category">
        <h3>ŸÅ€åÿ±Ÿàÿ≤Ÿá</h3>
        <ul class="sub-menu">
          <li><a href="vip-customers.html">ŸÖÿ¥ÿ™ÿ±€åÿßŸÜ ÿÆÿßÿµ ŸÅ€åÿ±Ÿàÿ≤Ÿá</a></li>
          <li><a href="about.html">ÿØÿ±ÿ®ÿßÿ±Ÿá ŸÅ€åÿ±Ÿàÿ≤Ÿá</a></li>
          <li><a href="contact.html">ÿ™ŸÖÿßÿ≥ ÿ®ÿß ŸÅ€åÿ±Ÿàÿ≤Ÿá</a></li>
          <li><a href="FAQ.html">ÿ≥ŸàÿßŸÑÿßÿ™ ŸÖÿ™ÿØÿßŸàŸÑ</a></li>
          <li><a href="cooperation.html">ŸáŸÖ⁄©ÿßÿ±€å ÿ®ÿß ŸÅ€åÿ±Ÿàÿ≤Ÿá</a></li>
          <li><a href="blogs.html">ŸÖÿ¨ŸÑÿßÿ™ Ÿà ÿßÿÆÿ®ÿßÿ± ŸÅ€åÿ±Ÿàÿ≤Ÿá</a></li>
          <li><a href="terms.html">ŸÇŸàÿßŸÜ€åŸÜ Ÿà ŸÖŸÇÿ±ÿ±ÿßÿ™</a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <!-- Auth Modal -->
  <div class="auth-modal" id="authModal">
    <div class="auth-modal-content">
      <span class="auth-modal-close" aria-label="ÿ®ÿ≥ÿ™ŸÜ ŸÅÿ±ŸÖ" id="closeAuthModal">√ó</span>
      <div class="auth-modal-header">
        <div class="site-logo">
          <img src="image1/logo.png" alt="ŸÑŸà⁄ØŸà€å ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá">
          FIROUZEH
        </div>
        <h2>Ÿàÿ±ŸàÿØ €åÿß ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ</h2>
        <div class="greeting">ÿ≥ŸÑÿßŸÖ</div>
        <p>ŸÑÿ∑ŸÅÿß ÿ¥ŸÖÿßÿ±Ÿá ŸÖŸàÿ®ÿß€åŸÑ ÿÆŸàÿØ ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ</p>
      </div>
      <div class="wizard-step active" id="step1">
        <div class="auth-form">
          <label for="authPhone">ÿ¥ŸÖÿßÿ±Ÿá ŸÖŸàÿ®ÿß€åŸÑ</label>
          <input type="tel" id="authPhone" placeholder="09123456789" maxlength="11" required>
          <p class="error" id="authPhoneError">ŸÑÿ∑ŸÅÿßŸã ÿ¥ŸÖÿßÿ±Ÿá ŸÖŸàÿ®ÿß€åŸÑ ŸÖÿπÿ™ÿ®ÿ± Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ (11 ÿ±ŸÇŸÖ ÿ®ÿß ÿ¥ÿ±Ÿàÿπ 09).</p>
          <div id="captchaSection">
            <label id="captchaQuestion"></label>
            <input type="text" id="captchaAnswer" placeholder="Ÿæÿßÿ≥ÿÆ ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ" required>
            <p class="error" id="captchaError">Ÿæÿßÿ≥ÿÆ ÿßÿ¥ÿ™ÿ®ÿßŸá ÿßÿ≥ÿ™.</p>
          </div>
          <p class="terms">Ÿàÿ±ŸàÿØ ÿ¥ŸÖÿß ÿ®Ÿá ŸÖÿπŸÜÿß€å Ÿæÿ∞€åÿ±ÿ¥ ÿ¥ÿ±ÿß€åÿ∑ Ÿà ŸÇŸàÿßŸÜ€åŸÜ ŸÅ€åÿ±Ÿàÿ≤Ÿá Ÿáÿ≥ÿ™</p>
        </div>
        <div class="wizard-buttons">
          <button id="nextToStep2" disabled>ÿ®ÿπÿØ€å</button>
        </div>
      </div>
      <div class="wizard-step" id="step2">
        <div class="auth-form">
          <p class="success" id="authSuccess">⁄©ÿØ ÿßÿ±ÿ≥ÿßŸÑ ÿ¥ÿØ. ŸÑÿ∑ŸÅÿßŸã ⁄©ÿØ ÿØÿ±€åÿßŸÅÿ™€å ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ.</p>
          <label for="authCode">⁄©ÿØ €å⁄©‚Äåÿ®ÿßÿ± ŸÖÿµÿ±ŸÅ</label>
          <div class="input-group">
            <input type="password" id="authCode" placeholder="⁄©ÿØ ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ" maxlength="6" required>
            <i class="fas fa-eye toggle-visibility" id="toggleAuthCode"></i>
          </div>
          <p class="error" id="authCodeError">⁄©ÿØ ŸÜÿßŸÖÿπÿ™ÿ®ÿ± ÿßÿ≥ÿ™.</p>
          <p class="timer" id="authTimer">ÿßÿ±ÿ≥ÿßŸÑ ŸÖÿ¨ÿØÿØ ⁄©ÿØ ÿØÿ±: <span id="authCountdown">60</span> ÿ´ÿßŸÜ€åŸá</p>
          <button id="resendCodeBtn">ÿßÿ±ÿ≥ÿßŸÑ ŸÖÿ¨ÿØÿØ ⁄©ÿØ</button>
        </div>
        <div class="wizard-buttons">
          <button class="prev" id="prevToStep1">ŸÇÿ®ŸÑ€å</button>
          <button id="nextToStep3" disabled>ÿ™ÿ£€å€åÿØ</button>
        </div>
      </div>
      <div class="wizard-step" id="step3">
        <label for="username">ŸÜÿßŸÖ ⁄©ÿßÿ±ÿ®ÿ±€å</label>
        <input type="text" id="username" placeholder="ŸÜÿßŸÖ ⁄©ÿßÿ±ÿ®ÿ±€å ÿÆŸàÿØ ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ" required>
        <div class="username-strength" id="usernameStrength"></div>
        <p class="error" id="usernameError">ŸÜÿßŸÖ ⁄©ÿßÿ±ÿ®ÿ±€å ŸÖÿπÿ™ÿ®ÿ± Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ (ÿ≠ÿØÿßŸÇŸÑ 3 ⁄©ÿßÿ±ÿß⁄©ÿ™ÿ±ÿå ŸÅŸÇÿ∑ ÿ≠ÿ±ŸàŸÅ Ÿà ÿßÿπÿØÿßÿØ).</p>
        <h3>ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ÿßÿ±ÿß⁄©ÿ™ÿ±</h3>
        <div class="character-grid">
          <div class="character-card" data-char="üçé">üçé</div>
          <div class="character-card" data-char="üçï">üçï</div>
          <div class="character-card" data-char="üçî">üçî</div>
          <div class="character-card" data-char="üç¶">üç¶</div>
        </div>
        <div class="wizard-buttons">
          <button class="prev" id="prevToStep2">ŸÇÿ®ŸÑ€å</button>
          <button id="confirmProfileBtn" disabled>ÿ™ÿ£€å€åÿØ</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Logout Modal -->
  <div class="logout-modal" id="logoutModal">
    <div class="logout-modal-content">
      <h2>ÿßÿ≤ ÿ≠ÿ≥ÿßÿ® ⁄©ÿßÿ±ÿ®ÿ±€å ÿÆÿßÿ±ÿ¨ ŸÖ€å‚Äåÿ¥Ÿà€åÿØÿü</h2>
      <p>ÿ®ÿß ÿÆÿ±Ÿàÿ¨ ÿßÿ≤ ÿ≠ÿ≥ÿßÿ® ⁄©ÿßÿ±ÿ®ÿ±€å ÿ®Ÿá ÿ≥ÿ®ÿØ ÿÆÿ±€åÿØ ŸÅÿπŸÑ€å ÿØÿ≥ÿ™ÿ±ÿ≥€å ŸÜÿÆŸàÿßŸá€åÿØ ÿØÿßÿ¥ÿ™. Ÿáÿ± ŸàŸÇÿ™ ÿ®ÿÆŸàÿßŸá€åÿØ ŸÖÿ¨ÿØÿØ ŸÖ€å‚Äåÿ™ŸàÿßŸÜ€åÿØ Ÿàÿßÿ±ÿØ ÿ¥Ÿà€åÿØ.</p>
      <div class="logout-buttons">
        <button class="confirm" id="confirmLogout">ÿÆÿ±Ÿàÿ¨</button>
        <button class="cancel" id="cancelLogout">ÿßŸÜÿµÿ±ÿßŸÅ</button>
      </div>
    </div>
  </div>
  <div class="search-container" id="searchContainer">
    <input type="text" id="searchInputLegacy" placeholder="ÿ¨ÿ≥ÿ™‚ÄåŸàÿ¨Ÿà€å ŸÖÿ≠ÿµŸàŸÑÿßÿ™ÿå ÿØÿ≥ÿ™Ÿá‚Äåÿ®ŸÜÿØ€å‚ÄåŸáÿß..." aria-label="ÿ¨ÿ≥ÿ™‚ÄåŸàÿ¨Ÿà€å ŸÖÿ≠ÿµŸàŸÑÿßÿ™" />
    <div class="search-results" id="searchResults"></div>
  </div>
  <main class="main-container">
    <section class="product-section">
      <div class="product-detail">
        <div class="product-gallery">
          <img src="" alt="" class="product-main-image" id="detail-image">
          <div class="product-thumbnails">
            <img src="image1/ÿ®ÿ±⁄Øÿ±.jpg" alt="ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ± - ÿπ⁄©ÿ≥ 1" class="product-thumbnail active" onclick="changeImage(this, 'https://placehold.co/400x300/1A7A6F/FFFFFF?text=ÿ™ÿµŸà€åÿ±+1')" loading="lazy loading">
            <img src="image1/ÿ®ÿ±⁄Øÿ±2.jpg" alt="ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ± - ÿπ⁄©ÿ≥ 2" class="product-thumbnail" onclick="changeImage(this, 'https://placehold.co/400x300/2E2A3F/FFFFFF?text=ÿ™ÿµŸà€åÿ±+2')" loading="lazy loading">
            <img src="image1/ÿ®ÿ±⁄Øÿ±3.jpg" alt="ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ± - ÿπ⁄©ÿ≥ 3" class="product-thumbnail" onclick="changeImage(this, 'https://placehold.co/400x300/4B5563/FFFFFF?text=ÿ™ÿµŸà€åÿ±+3')" loading="lazy loading">
            <img src="image1/ÿ®ÿ±⁄Øÿ±4.jpg" alt="ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ± - ÿπ⁄©ÿ≥ 4" class="product-thumbnail" onclick="changeImage(this, 'https://placehold.co/400x300/E5E7EB/4B5563?text=ÿ™ÿµŸà€åÿ±+4')" loading="lazy loading">
          </div>
        </div>
        <div class="product-content">
          <h1 class="product-title" id="detail-title">ÿØÿ± ÿ≠ÿßŸÑ ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å...</h1>
          <p class="product-desc" id="detail-desc"></p>
          <ul class="product-desc">
              <li id="detail-ingredients"></li>
              <li id="detail-nutrition_info "></li>
          </ul>
          <div class="size-selector" role="radiogroup" aria-label="ÿßŸÜÿ™ÿÆÿßÿ® ÿ≥ÿß€åÿ≤">
            <button class="size-btn active" data-size="300" data-price="45000" role="radio" aria-checked="true" tabindex="0">€≥€∞€∞g</button>
            <button class="size-btn" data-size="480" data-price="60000" role="radio" aria-checked="false" tabindex="-1">€¥€∏€∞g</button>
            <button class="size-btn" data-size="560" data-price="75000" role="radio" aria-checked="false" tabindex="-1">€µ€∂€∞g</button>
          </div>
         
          <div class="quantity-section">
            <label for="quantity">ÿ™ÿπÿØÿßÿØ:</label>
            <div class="quantity-control">
              <button class="quantity-btn" onclick="changeQuantity(-1)" aria-label="⁄©ÿßŸáÿ¥ ÿ™ÿπÿØÿßÿØ">-</button>
              <input type="number" id="quantity" class="quantity-input" value="1" min="1" oninput="updateQuantity(this.value)" aria-label="ÿ™ÿπÿØÿßÿØ ŸÖÿ≠ÿµŸàŸÑ">
              <button class="quantity-btn" onclick="changeQuantity(1)" aria-label="ÿßŸÅÿ≤ÿß€åÿ¥ ÿ™ÿπÿØÿßÿØ">+</button>
            </div>
          </div>
         
          <div class="build-meal" aria-label="ÿßŸÜÿ™ÿÆÿßÿ® ŸÖŸàÿßÿØ ÿßÿ∂ÿßŸÅ€å">
            <label class="ingredient" onclick="this.classList.toggle('active'); updatePrice()" role="checkbox" aria-checked="true" tabindex="0">
              <input type="checkbox" checked>
              <img src="https://placehold.co/50x50/FFD700/000000?text=ŸæŸÜ€åÿ±" alt="ŸæŸÜ€åÿ±" loading="lazy loading">
              <span></span>
            </label>
            <label class="ingredient" onclick="this.classList.toggle('active'); updatePrice()" role="checkbox" aria-checked="true" tabindex="0">
              <input type="checkbox" checked>
              <img src="https://placehold.co/50x50/FF6347/FFFFFF?text=⁄ØŸàÿ¨Ÿá" alt="⁄ØŸàÿ¨Ÿá" loading="lazy loading">
              <span></span>
            </label>
            <label class="ingredient" onclick="this.classList.toggle('active'); updatePrice()" role="checkbox" aria-checked="false" tabindex="0">
              <input type="checkbox">
              <img src="https://placehold.co/50x50/32CD32/FFFFFF?text=ÿ≥ÿ®ÿ≤€å" alt="ÿ≥ÿ®ÿ≤€åÿ¨ÿßÿ™" loading="lazy loading">
              <span></span>
            </label>
          </div>
         
          <button class="add-to-cart" aria-label="ÿßÿ∂ÿßŸÅŸá ⁄©ÿ±ÿØŸÜ ÿ®Ÿá ÿ≥ÿ®ÿØ ÿÆÿ±€åÿØ" onclick="addToCart()">
            <span>+ €± -</span>
            <span class="price-display"><span id="detail-price"></span> ÿ™ŸàŸÖÿßŸÜ</span>
            <span>ÿßÿ∂ÿßŸÅŸá ÿ®Ÿá ÿ≥ÿ®ÿØ</span>
          </button>
        </div>
      </div>
     
     <section class="recommendations">
  <h2 id="complementaryTitle">Ÿæ€åÿ¥ŸÜŸáÿßÿØŸáÿß€å ŸáŸÖÿ±ÿßŸá</h2>
  <div class="rec-grid" id="complementaryGrid">
    <!-- ŸÖÿ≠ÿµŸàŸÑÿßÿ™ Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å ÿ®ÿß JS ÿß€åŸÜÿ¨ÿß inject ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ -->
  </div>
</section>

      <section class="other-products">
  <h2>ÿÆÿ±€åÿØÿßÿ±ÿßŸÜ ÿØ€å⁄Øÿ± ŸÜ€åÿ≤ ÿß€åŸÜ‚ÄåŸáÿß ÿ±ÿß ŸÖÿ¥ÿßŸáÿØŸá ⁄©ÿ±ÿØŸÜÿØ</h2>
  <div class="slider-container">
    <div class="slider-track" id="sliderTrack"></div>
  </div>
</section>

    </section>
    <aside class="cart-panel">
      <div class="cart-header">
        <span>ÿ≥ÿ®ÿØ ÿÆÿ±€åÿØ ŸÖŸÜ</span>
        <select aria-label="ÿ™ÿπÿØÿßÿØ ÿßŸÇŸÑÿßŸÖ ÿØÿ± ÿ≥ÿ®ÿØ">
          <option>€≥ ŸÖŸàÿ±ÿØ</option>
        </select>
      </div>
      <div class="cart-item" role="listitem">
        <img src="https://placehold.co/50x50/E5E7EB/4B5563?text=ÿ®ÿ±€åÿßŸÜ€å" alt="ŸÖÿ±ÿ∫ ÿ®ÿ±€åÿßŸÜ€å" loading="lazy loading">
        <span>ŸÖÿ±ÿ∫ ÿ®ÿ±€åÿßŸÜ€å (€≥€∏€∞g)</span>
        <div class="quantity">
          <button class="quantity-btn" aria-label="⁄©ÿßŸáÿ¥ ÿ™ÿπÿØÿßÿØ ŸÖÿ±ÿ∫ ÿ®ÿ±€åÿßŸÜ€å" onclick="updateQty('biryani', -1)">-</button>
          <span id="biryani-qty" aria-label="ÿ™ÿπÿØÿßÿØ: €±">€±</span>
          <button class="quantity-btn" aria-label="ÿßŸÅÿ≤ÿß€åÿ¥ ÿ™ÿπÿØÿßÿØ ŸÖÿ±ÿ∫ ÿ®ÿ±€åÿßŸÜ€å" onclick="updateQty('biryani', 1)">+</button>
        </div>
        <span>€≥€∏,€∞€∞€∞ ÿ™ŸàŸÖÿßŸÜ</span>
      </div>
      <div class="cart-item" role="listitem">
        <img src="https://placehold.co/50x50/E5E7EB/4B5563?text=Ÿæ€åÿ™ÿ≤ÿß" alt="Ÿæ€åÿ™ÿ≤ÿß ⁄©ÿ±Ÿàÿ≥ÿ™" loading="lazy loading">
        <span>Ÿæ€åÿ™ÿ≤ÿß ⁄©ÿ±Ÿàÿ≥ÿ™ ÿ≥ŸàŸæÿ±€åŸÖ (€¥€∂€∞g)</span>
        <div class="quantity">
          <button class="quantity-btn" aria-label="⁄©ÿßŸáÿ¥ ÿ™ÿπÿØÿßÿØ Ÿæ€åÿ™ÿ≤ÿß" onclick="updateQty('pizza', -1)">-</button>
          <span id="pizza-qty" aria-label="ÿ™ÿπÿØÿßÿØ: €±">€±</span>
          <button class="quantity-btn" aria-label="ÿßŸÅÿ≤ÿß€åÿ¥ ÿ™ÿπÿØÿßÿØ Ÿæ€åÿ™ÿ≤ÿß" onclick="updateQty('pizza', 1)">+</button>
        </div>
        <span>€¥€∂,€∞€∞€∞ ÿ™ŸàŸÖÿßŸÜ</span>
      </div>
      <div class="cart-item" role="listitem">
        <img src="https://placehold.co/50x50/E5E7EB/4B5563?text=ŸÜŸàÿ¥€åÿØŸÜ€å" alt="⁄Øÿ±€åŸæ ÿ®ÿ±€åÿ≤" loading="lazy loading">
        <span>⁄Øÿ±€åŸæ ÿ®ÿ±€åÿ≤ (€≥€µ€∞ml)</span>
        <div class="quantity">
          <button class="quantity-btn" aria-label="⁄©ÿßŸáÿ¥ ÿ™ÿπÿØÿßÿØ ŸÜŸàÿ¥€åÿØŸÜ€å" onclick="updateQty('drink', -1)">-</button>
          <span id="drink-qty" aria-label="ÿ™ÿπÿØÿßÿØ: €±">€±</span>
          <button class="quantity-btn" aria-label="ÿßŸÅÿ≤ÿß€åÿ¥ ÿ™ÿπÿØÿßÿØ ŸÜŸàÿ¥€åÿØŸÜ€å" onclick="updateQty('drink', 1)">+</button>
        </div>
        <span>€≤€±,€µ€∞€∞ ÿ™ŸàŸÖÿßŸÜ</span>
      </div>
     
      <div class="promo-section">
        <input type="text" class="promo-input" id="promoCode" placeholder="⁄©ÿØ ÿ™ÿÆŸÅ€åŸÅ" aria-label="Ÿàÿßÿ±ÿØ ⁄©ÿ±ÿØŸÜ ⁄©ÿØ ÿ™ÿÆŸÅ€åŸÅ">
        <button class="apply-promo-btn" onclick="applyPromo()" aria-label="ÿßÿπŸÖÿßŸÑ ⁄©ÿØ ÿ™ÿÆŸÅ€åŸÅ">ÿßÿπŸÖÿßŸÑ ⁄©ÿØ ÿ™ÿÆŸÅ€åŸÅ</button>
        <div class="discount" id="discount" aria-live="polite"></div>
      </div>
     
      <div class="delivery-free" aria-label="ÿ™ÿ≠Ÿà€åŸÑ ÿ±ÿß€å⁄ØÿßŸÜ">ÿ™ÿ≠Ÿà€åŸÑ: ÿ±ÿß€å⁄ØÿßŸÜ</div>
      <div class="total" id="total-price" aria-live="polite">€±€∞€µ,€µ€∞€∞ ÿ™ŸàŸÖÿßŸÜ</div>
      <button class="confirm-btn" onclick="confirmOrder()" aria-label="ÿ™ÿ£€å€åÿØ Ÿà Ÿæÿ±ÿØÿßÿÆÿ™ ÿ≥ŸÅÿßÿ±ÿ¥">ÿ™ÿ£€å€åÿØ ÿ≥ŸÅÿßÿ±ÿ¥</button>
    </aside>
  </main>
  <div class="support-widget" id="supportWidget">
    <p class="text">ÿ®ÿ±ÿß€å ÿØÿ±€åÿßŸÅÿ™ ŸÖÿ¥ÿßŸàÿ±Ÿá Ÿà ŸÖÿ¥ÿßŸáÿØŸá ÿ¨ÿØ€åÿØÿ™ÿ±€åŸÜ ÿ¢€åÿ™ŸÖ‚ÄåŸáÿß ÿ®Ÿá ŸÖÿß ÿØÿ± ÿßÿ±ÿ™ÿ®ÿßÿ∑ ÿ®ÿßÿ¥€åÿØ</p>
    <a href="https://instagram.com/fingerfood_firouzeh" target="_blank">ÿß€åŸÜÿ≥ÿ™ÿß⁄Øÿ±ÿßŸÖ</a>
    <a href="https://wa.me/09142830328" target="_blank">Ÿàÿßÿ™ÿ≥ÿßŸæ</a>
    <a href="tel:09142830328">ÿ™ŸÖÿßÿ≥</a>
  </div>
  <footer>
    <h2><i class="fas fa-building"></i> ŸÅ€åÿ±Ÿàÿ≤Ÿá</h2>
    <p>ŸÅ€åÿ±Ÿàÿ≤Ÿá ŸÅÿ±Ÿàÿ¥⁄ØÿßŸá ÿ¢ŸÜŸÑÿß€åŸÜ ŸÖÿ≤Ÿáÿå ŸÅ€åŸÜ⁄Øÿ± ŸÅŸàÿØ Ÿà ŸáŸÖŸá ŸÜ€åÿßÿ≤Ÿáÿß€å ÿØŸàÿ±ŸáŸÖ€å Ÿà ŸÖŸáŸÖŸàŸÜ€åŸá. Ÿáÿ± ⁄Ü€åÿ≤€å ÿ®ÿ±ÿß€å €å⁄© ÿ¥ÿ® ÿ®Ÿá‚Äå€åÿßÿØŸÖÿßŸÜÿØŸÜ€å ŸÑÿßÿ≤ŸÖ ÿØÿßÿ±€åÿØÿå ŸáŸÖ€åŸÜ ÿ¨ÿßÿ≥ÿ™!</p>
    <div class="links">
      <a href="about.html"><i class="fas fa-info-circle"></i> ÿØÿ±ÿ®ÿßÿ±Ÿá ŸÅ€åÿ±Ÿàÿ≤Ÿá</a>
      <a href="index.html#contact"><i class="fas fa-phone"></i> ÿ™ŸÖÿßÿ≥ ÿ®ÿß ŸÅ€åÿ±Ÿàÿ≤Ÿá</a>
      <a href="index.html#collaboration"><i class="fas fa-handshake"></i> ŸáŸÖ⁄©ÿßÿ±€å ÿ®ÿß ŸÅ€åÿ±Ÿàÿ≤Ÿá</a>
      <a href="index.html#faq"><i class="fas fa-question-circle"></i> ÿ≥ŸàÿßŸÑÿßÿ™ ŸÖÿ™ÿØÿßŸàŸÑ</a>
    </div>
    <div class="contact-info">
      <i class="fas fa-phone"></i> ÿ™ŸÖÿßÿ≥: 041-33367052 | <i class="fab fa-whatsapp"></i> Ÿàÿßÿ™ÿ≥‚ÄåÿßŸæ:09142830328
    </div>
    <p id="clock"><i class="fas fa-clock"></i> ÿØÿ± ÿ≠ÿßŸÑ ÿØÿ±€åÿßŸÅÿ™ ÿ≤ŸÖÿßŸÜ‚Ä¶</p>
    <div class="copyright">
      ¬© €±€¥€∞€¥ FingerFood Firoozeh - ⁄©ŸÑ€åŸá ÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ ÿßÿ≥ÿ™.
    </div>
    <div class="social-bar">
      <div class="logo-box"><img src="image1/logo.png" alt="ŸÑŸà⁄ØŸà€å ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá"></div>
      <a href="mailto:firouzeh.foodgroup@gmail.com" class="social-box">
        <i class="fas fa-envelope"></i>
        ÿß€åŸÖ€åŸÑ
      </a>
      <a href="https://instagram.com/fingerfood_firouzeh" class="social-box" target="_blank">
        <i class="fab fa-instagram"></i>
        ÿß€åŸÜÿ≥ÿ™ÿß⁄Øÿ±ÿßŸÖ
      </a>
      <a href="https://wa.me/09142830328" class="social-box" target="_blank">
        <i class="fab fa-whatsapp"></i>
        Ÿàÿßÿ™ÿ≥ ÿßŸæ
      </a>
      <a href="tel:09142830328" class="social-box">
        <i class="fas fa-phone"></i>
        ÿ™ŸÖÿßÿ≥
      </a>
      <a href="about.html" class="social-box">
        <i class="fas fa-award"></i>
        ŸÖÿ¨Ÿàÿ≤Ÿáÿß
      </a>
    </div>
  </footer>
  <!-- reCAPTCHA for security -->
  <script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
  <script>
    // Service Worker for PWA
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(() => {}); // Silent fail
    }
    // DOM Elements Cache
    const elements = {
      body: document.body,
      menuToggle: document.querySelector('.menu-icon'),
      sideMenu: document.getElementById('sideMenu'),
      closeBtn: document.querySelector('.close-btn'),
      overlay: document.getElementById('overlay'),
      searchContainer: document.getElementById('searchContainer'),
      searchInputLegacy: document.getElementById('searchInputLegacy'),
      searchResults: document.getElementById('searchResults'),
      searchInput: document.getElementById("searchInput"),
      promoText: document.getElementById("promoText"),
      promoTextMobile: document.getElementById("promoTextMobile"),
      clearSearch: document.getElementById("clearSearch"),
      mainImage: document.getElementById('mainImage'),
      thumbnails: document.querySelectorAll('.product-thumbnail'),
      quantityInput: document.getElementById('quantity'),
      sliderTrack: document.getElementById('sliderTrack'),
      sliderContainer: document.querySelector('.slider-container'),
      promoCode: document.getElementById('promoCode'),
      discount: document.getElementById('discount'),
      totalPrice: document.getElementById('total-price'),
      userProfile: document.getElementById('userProfile'),
      profileIcon: document.getElementById('profileIcon'),
      userMenu: document.getElementById('userMenu'),
      userAvatar: document.getElementById('userAvatar'),
      userName: document.getElementById('userName'),
      logoutBtn: document.getElementById('logoutBtn'),
      logoutModal: document.getElementById('logoutModal'),
      confirmLogout: document.getElementById('confirmLogout'),
      cancelLogout: document.getElementById('cancelLogout'),
      authModal: document.getElementById('authModal'),
      closeAuthModal: document.getElementById('closeAuthModal'),
      step1: document.getElementById('step1'),
      step2: document.getElementById('step2'),
      step3: document.getElementById('step3'),
      nextToStep2: document.getElementById('nextToStep2'),
      prevToStep1: document.getElementById('prevToStep1'),
      nextToStep3: document.getElementById('nextToStep3'),
      prevToStep2: document.getElementById('prevToStep2'),
      authPhone: document.getElementById('authPhone'),
      authPhoneError: document.getElementById('authPhoneError'),
      authSuccess: document.getElementById('authSuccess'),
      authCode: document.getElementById('authCode'),
      authCodeError: document.getElementById('authCodeError'),
      authTimer: document.getElementById('authTimer'),
      authCountdown: document.getElementById('authCountdown'),
      username: document.getElementById('username'),
      usernameError: document.getElementById('usernameError'),
      usernameStrength: document.getElementById('usernameStrength'),
      characterCards: document.querySelectorAll('.character-card'),
      confirmProfileBtn: document.getElementById('confirmProfileBtn'),
      toggleAuthCode: document.getElementById('toggleAuthCode'),
      resendCodeBtn: document.getElementById('resendCodeBtn'),
      captchaQuestion: document.getElementById('captchaQuestion'),
      captchaAnswer: document.getElementById('captchaAnswer'),
      captchaError: document.getElementById('captchaError'),
      supportWidget: document.getElementById('supportWidget')
    };
    // Product State
    let basePrice = 45000;
    let quantity = 1;
    let cart = {
      biryani: { qty: 1, price: 38000 },
      pizza: { qty: 1, price: 46000 },
      drink: { qty: 1, price: 21500 }
    };
    let total = 105500;
    let currentPromoIndex = 0;
    let discountAmount = 0;
    // Auth State
    let authCountdownInterval;
    let authModalShown = false;
    let userData = JSON.parse(sessionStorage.getItem('userData')) || null;
    let currentPhone = '';
    let isNewUser = false;
    let captchaNum1, captchaNum2, captchaResult;
    let failedAttempts = parseInt(sessionStorage.getItem('failedAttempts')) || 0;
    let lockTimer = 0;
    const promoMessages = [
      "‚ö°ÿ®Ÿáÿ™ÿ±€åŸÜ ÿ¢ŸÖŸàÿ≤ÿ¥‚ÄåŸáÿß€å ŸÅ€åŸÜ⁄Øÿ± ŸÅŸàÿØ Ÿà ÿ≥ŸÑÿßŸÖÿ™ ÿ∫ÿ∞ÿß€å€å!",
      "üçï ÿ∫ÿ∞ÿßŸáÿß€å ÿ™ÿßÿ≤Ÿá Ÿà ÿÆŸàÿ¥ŸÖÿ≤Ÿá Ÿáÿ± ÿ±Ÿàÿ≤!",
      "‚≠ê ÿ™ÿÆŸÅ€åŸÅ Ÿà€å⁄òŸá ÿ®ÿ±ÿß€å ŸÖÿ¥ÿ™ÿ±€åÿßŸÜ ŸàŸÅÿßÿØÿßÿ±!",
      "üööŸÅ€åÿ±Ÿàÿ≤Ÿáÿõ ÿ≥ÿ±€åÿπÿå ÿ™ÿßÿ≤Ÿáÿå ÿÆŸàÿ¥‚Äåÿ≥ŸÑ€åŸÇŸá"
    ];
    // Search suggestions
    const searchSuggestions = [
      "ŸÖ€åŸÜ€å ÿ®ÿ±⁄Øÿ±",
      "ÿ≥ÿßŸÑÿßÿØ ⁄©Ÿæÿ±ÿ≥Ÿá",
      "Ÿæ€åÿ™ÿ≤ÿß ⁄©ÿ±Ÿàÿ≥ÿ™",
      "ŸÖÿ±ÿ∫ ÿ®ÿ±€åÿßŸÜ€å",
      "ŸÑ€åŸÖŸàŸÜÿßÿØ",
      "ÿØÿ≥ÿ± ÿ¥⁄©ŸÑÿßÿ™€å",
      "ŸÖÿ≤Ÿá‚ÄåŸáÿß€å ⁄Øÿ±ŸÖ",
      "ÿ≥ÿßŸÑÿßÿØ ŸÅÿµŸÑ",
      "ÿ≥ÿ≥ ⁄ØŸàÿ¨Ÿá",
      "ÿ®ÿß⁄©ÿ≥ ÿßŸÑ⁄ØÿßŸÜÿ™"
    ];
    // Utility Functions
    function debounce(fn, delay) {
      let timeoutId;
      return (...args) => {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => fn.apply(null, args), delay);
      };
    }
    function updatePrice() {
      let extra = 0;
      document.querySelectorAll('.ingredient.active').forEach(ing => {
        const match = ing.querySelector('span').textContent.match(/(\d+,?\d*)/);
        extra += match ? parseInt(match[1].replace(/,/g, '')) : 0;
      });
      document.getElementById('item-price').textContent = ((basePrice + extra) * quantity).toLocaleString();
    }
    // Image Gallery
    function changeImage(thumbnail, src) {
      elements.thumbnails.forEach(thumb => thumb.classList.remove('active'));
      thumbnail.classList.add('active');
      elements.mainImage.src = src ;
    }
    // Quantity Controls
    function changeQuantity(change) {
      quantity = Math.max(1, quantity + change);
      elements.quantityInput.value = quantity;
      updatePrice();
    }
    function updateQuantity(value) {
      quantity = Math.max(1, parseInt(value) || 1);
      elements.quantityInput.value = quantity;
      updatePrice();
    }
    // Menu Controls (Fixed Scroll Issue)
    function openMenu() {
      elements.sideMenu.classList.add('active');
      elements.overlay.classList.add('active');
      elements.body.classList.add('menu-open');
      elements.menuToggle.setAttribute('aria-expanded', 'true');
      elements.menuToggle.setAttribute('aria-label', 'ÿ®ÿ≥ÿ™ŸÜ ŸÖŸÜŸà');
      elements.sideMenu.setAttribute('aria-hidden', 'false');
      elements.body.style.overflow = 'hidden'; // Lock body scroll
      elements.sideMenu.scrollTop = 0; // Reset scroll position
      elements.sideMenu.focus();
    }
    function closeMenu() {
      elements.sideMenu.classList.remove('active');
      elements.overlay.classList.remove('active');
      elements.body.classList.remove('menu-open');
      elements.menuToggle.setAttribute('aria-expanded', 'false');
      elements.menuToggle.setAttribute('aria-label', 'ÿ®ÿßÿ≤ ⁄©ÿ±ÿØŸÜ ŸÖŸÜŸà');
      elements.sideMenu.setAttribute('aria-hidden', 'true');
      elements.body.style.overflow = ''; // Restore body scroll
      elements.menuToggle.focus();
    }
    function openSearch() {
      elements.searchContainer.classList.add('active');
      elements.overlay.classList.add('active');
      elements.body.style.overflow = 'hidden';
      elements.searchInputLegacy.focus();
    }
    function closeSearch() {
      elements.searchContainer.classList.remove('active');
      elements.overlay.classList.remove('active');
      elements.body.style.overflow = '';
      elements.searchInputLegacy.value = '';
      elements.searchResults.innerHTML = '';
    }
    function performSearch(query) {
      elements.searchResults.innerHTML = '';
      if (!query.trim()) {
        elements.searchResults.innerHTML = '<div class="no-results">ŸÑÿ∑ŸÅÿßŸã ÿπÿ®ÿßÿ±ÿ™€å ÿ®ÿ±ÿß€å ÿ¨ÿ≥ÿ™‚ÄåŸàÿ¨Ÿà Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ</div>';
        return;
      }
      const content = [
        ...document.querySelectorAll('.category-card strong, .category-card p, h1, p.lead, footer p, footer a, .story-content')
      ].map(el => ({
        text: el.textContent.trim(),
        element: el
      }));
      const results = content.filter(item => item.text.toLowerCase().includes(query.toLowerCase()));
      if (results.length === 0) {
        elements.searchResults.innerHTML = '<div class="no-results">ŸÜÿ™€åÿ¨Ÿá‚Äåÿß€å €åÿßŸÅÿ™ ŸÜÿ¥ÿØ</div>';
        return;
      }
      results.forEach(result => {
        const div = document.createElement('div');
        div.className = 'result-item';
        div.textContent = result.text.slice(0, 50) + (result.text.length > 50 ? '...' : '');
        div.addEventListener('click', () => {
          result.element.scrollIntoView({ behavior: 'smooth', block: 'center' });
          closeSearch();
        });
        elements.searchResults.appendChild(div);
      });
    }
    function showSearchSuggestions(query) {
      elements.searchResults.innerHTML = '';
      if (!query.trim()) {
        elements.searchResults.innerHTML = '<div class="no-results">ŸÑÿ∑ŸÅÿßŸã ÿπÿ®ÿßÿ±ÿ™€å ÿ®ÿ±ÿß€å ÿ¨ÿ≥ÿ™‚ÄåŸàÿ¨Ÿà Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ</div>';
        return;
      }
      const suggestions = searchSuggestions.filter(item =>
        item.toLowerCase().includes(query.toLowerCase())
      );
      if (suggestions.length === 0) {
        elements.searchResults.innerHTML = '<div class="no-results">ŸÜÿ™€åÿ¨Ÿá‚Äåÿß€å €åÿßŸÅÿ™ ŸÜÿ¥ÿØ</div>';
        return;
      }
      suggestions.forEach(suggestion => {
        const div = document.createElement('div');
        div.className = 'result-item';
        div.textContent = suggestion;
        div.addEventListener('click', () => {
          elements.searchInput.value = suggestion;
          elements.searchResults.innerHTML = '';
          elements.clearSearch.classList.add('active');
        });
        elements.searchResults.appendChild(div);
      });
    }
    function changePromoText() {
      const message = promoMessages[currentPromoIndex];
      elements.promoText.innerHTML = `<i class="fas fa-bolt"></i> ${message}`;
      elements.promoTextMobile.innerHTML = `<i class="fas fa-bolt"></i> ${message}`;
      currentPromoIndex = (currentPromoIndex + 1) % promoMessages.length;
    }
    function updateTime() {
      const clock = document.getElementById('clock');
      if (typeof persianDate === 'undefined') {
        clock.textContent = 'ÿÆÿ∑ÿß ÿØÿ± ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ÿ™ÿßÿ±€åÿÆ';
        return;
      }
      const now = new Date();
      const options = {
        timeZone: 'Asia/Tehran',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      };
      const timeStr = now.toLocaleTimeString('fa-IR', options);
      const persianDateObj = new persianDate(now);
      const persianDateStr = persianDateObj.format('D MMMM YYYY');
      clock.innerHTML = ` ${persianDateStr} - ${timeStr}`;
    } 
    let currentSlide = 0;
const slideWidth = 220;

function slideNext() {
  const track = document.getElementById('sliderTrack');
  if (!track) return;

  const items = track.children.length;
  if (items === 0) return;

  currentSlide = (currentSlide + 1) % items;
  updateSlider();
}

function slidePrev() {
  const track = document.getElementById('sliderTrack');
  if (!track) return;

  const items = track.children.length;
  if (items === 0) return;

  currentSlide = (currentSlide - 1 + items) % items;
  updateSlider();
}

function updateSlider() {
  const track = document.getElementById('sliderTrack');
  if (!track) return;

  const items = track.children.length;
  if (items === 0) return;

  currentSlide = Math.min(currentSlide, items - 1);
  track.style.transform =
    `translateX(-${currentSlide * slideWidth}px)`;
}

    // Cart Functions 
    function createProductCard(product, isSlider = false) {
  return `
    <div class="${isSlider ? 'other-product-item' : 'rec-item'}">
      <img src="${product.image}" alt="${product.name}" loading="lazy">
      <div class="rec-content">
        <p>${product.name}</p>
        <div class="rating">‚≠ê ${product.rating}</div>
        <span>${product.priceText}</span>
        <button onclick="addToCart(${product.id}, ${product.price})">
          <i class="fas fa-shopping-cart"></i>
          ÿßŸÅÿ≤ŸàÿØŸÜ
        </button>
      </div>
    </div>
  `;
}


function loadComplementaryProducts(currentProduct, allProducts) {
  const container = document.getElementById('complementaryGrid');
  if (!container) return;

  container.innerHTML = '';

  const complementary = allProducts.filter(p =>
    currentProduct.complementaryIds?.includes(p.id)
  );

  complementary.forEach(product => {
    container.innerHTML += createProductCard(product);
  });
}
//⁄©ÿØ ÿÆÿ±€åÿØÿßÿ±ÿßŸÜ ÿØ€å⁄Øÿ±
function loadAlsoViewedProducts(currentProduct, allProducts) {
  const track = document.getElementById('sliderTrack');
  if (!track) return;

  track.innerHTML = '';

  const products = allProducts
    .filter(p => p.id !== currentProduct.id)
    .map(p => {
      let score = 0;

      if (p.categoryId === currentProduct.categoryId) score += 2;

      const commonTags = p.relatedTags?.filter(tag =>
        currentProduct.relatedTags.includes(tag)
      );
      score += (commonTags?.length || 0) * 3;

      if (p.sales > 200) score += 1;
      if (p.rating >= 4.5) score += 1;

      return { ...p, score };
    })
    .sort((a, b) => b.score - a.score)
    .slice(0, 6);

  products.forEach(product => {
    track.innerHTML += createProductCard(product, true);
  });

  updateSlider();
}

    function addToCart(item = 'main', price = basePrice) {
      if (item === 'main') {
        let extra = 0;
        document.querySelectorAll('.ingredient.active').forEach(ing => {
          const match = ing.querySelector('span').textContent.match(/(\d+,?\d*)/);
          extra += match ? parseInt(match[1].replace(/,/g, '')) : 0;
        });
        cart[item] = { qty: quantity, price: basePrice + extra };
        // Save to history
        const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
        history.push({ type: 'Ÿæÿßÿ≥ÿ™ÿß', date: new Date().toISOString() });
        localStorage.setItem('orderHistory', JSON.stringify(history));
      } else {
        if (!cart[item]) cart[item] = { qty: 0, price };
        cart[item].qty += 1;
      }
      updateCart();
      alert('ÿ®Ÿá ÿ≥ÿ®ÿØ ÿßÿ∂ÿßŸÅŸá ÿ¥ÿØ!');
    }
    function updateCart() {
      total = Object.values(cart).reduce((sum, item) => sum + (item.price * item.qty), 0);
      // Apply discount if exists
      if (discountAmount > 0) {
        const discountedTotal = total - discountAmount;
        elements.totalPrice.textContent = discountedTotal.toLocaleString() + ' ÿ™ŸàŸÖÿßŸÜ';
      } else {
        elements.totalPrice.textContent = total.toLocaleString() + ' ÿ™ŸàŸÖÿßŸÜ';
      }
      const itemCount = Object.values(cart).reduce((sum, item) => sum + item.qty, 0);
      document.querySelector('.cart-header select').innerHTML = `
${itemCount} ŸÖŸàÿ±ÿØ</option>
`;
      // Update quantities in UI
      Object.keys(cart).forEach(key => {
        const qtyEl = document.getElementById(`${key}-qty`);
        if (qtyEl) qtyEl.textContent = cart[key].qty;
      });
    }
    function updateQty(item, change) {
      if (cart[item]) {
        cart[item].qty = Math.max(1, cart[item].qty + change);
        document.getElementById(`${item}-qty`).textContent = cart[item].qty;
        updateCart();
      }
    }
    function applyPromo() {
      const code = elements.promoCode.value.trim();
      if (code === 'FIROUZEH10') {
        discountAmount = total * 0.1;
        elements.discount.textContent = `ÿ™ÿÆŸÅ€åŸÅ: -${Math.round(discountAmount).toLocaleString()} ÿ™ŸàŸÖÿßŸÜ`;
        const discountedTotal = total - discountAmount;
        elements.totalPrice.textContent = discountedTotal.toLocaleString() + ' ÿ™ŸàŸÖÿßŸÜ';
      } else if (code === 'NEWCUSTOMER') {
        discountAmount = 20000;
        elements.discount.textContent = `ÿ™ÿÆŸÅ€åŸÅ: -${discountAmount.toLocaleString()} ÿ™ŸàŸÖÿßŸÜ`;
        const discountedTotal = total - discountAmount;
        elements.totalPrice.textContent = discountedTotal.toLocaleString() + ' ÿ™ŸàŸÖÿßŸÜ';
      } else {
        discountAmount = 0;
        elements.discount.textContent = '⁄©ÿØ ÿ™ÿÆŸÅ€åŸÅ ŸÜÿßŸÖÿπÿ™ÿ®ÿ± ÿßÿ≥ÿ™';
        elements.totalPrice.textContent = total.toLocaleString() + ' ÿ™ŸàŸÖÿßŸÜ';
      }
    }
    function confirmOrder() {
      // Mock reCAPTCHA
      console.log('reCAPTCHA token generated');
      alert('ÿ≥ŸÅÿßÿ±ÿ¥ ÿ¥ŸÖÿß ÿ´ÿ®ÿ™ ÿ¥ÿØ! ÿ®Ÿá ÿµŸÅÿ≠Ÿá Ÿæÿ±ÿØÿßÿÆÿ™ ŸÖŸÜÿ™ŸÇŸÑ ŸÖ€å‚Äåÿ¥Ÿà€åÿØ.');
    }
    // Scroll Animations
    function initScrollAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animationPlayState = 'running';
          }
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.rec-item, .product-detail, .other-product-item').forEach(el => observer.observe(el));
    }
    // Auth Functions
    function openAuthModalFunc() {
      elements.authModal.classList.add('active');
      elements.overlay.classList.add('active');
      elements.body.style.overflow = 'hidden';
      authModalShown = true;
      resetAuthForm();
      generateCaptcha();
    }
    function closeAuthModalFunc() {
      elements.authModal.classList.remove('active');
      elements.overlay.classList.remove('active');
      elements.body.style.overflow = '';
      resetAuthForm();
    }
    function resetAuthForm() {
      elements.authPhone.value = '';
      elements.authCode.value = '';
      elements.username.value = '';
      elements.captchaAnswer.value = '';
      elements.authPhoneError.style.display = 'none';
      elements.authCodeError.style.display = 'none';
      elements.usernameError.style.display = 'none';
      elements.captchaError.style.display = 'none';
      elements.authSuccess.style.display = 'none';
      elements.authTimer.style.display = 'none';
      elements.resendCodeBtn.style.display = 'none';
      elements.step1.classList.add('active');
      elements.step2.classList.remove('active');
      elements.step3.classList.remove('active');
      elements.characterCards.forEach(card => card.classList.remove('selected'));
      if (authCountdownInterval) clearInterval(authCountdownInterval);
      failedAttempts = 0;
      sessionStorage.setItem('failedAttempts', failedAttempts);
      updateButtonStates();
      updateUsernameStrength();
    }
    function validatePhone(phone) {
      const regex = /^09[0-9]{9}$/;
      return regex.test(phone);
    }
    function validateCode(code) {
      return /^[0-9]{6}$/.test(code);
    }
    function validateUsername(name) {
      return /^[a-zA-Z0-9]{3,}$/.test(name);
    }
    function validateCaptcha(answer) {
      return parseInt(answer) === captchaResult;
    }
    function maskInput(input, regex) {
      input.value = input.value.replace(regex, '');
    }
    function updateButtonStates() {
      elements.nextToStep2.disabled = !validatePhone(elements.authPhone.value) || !validateCaptcha(elements.captchaAnswer.value);
      elements.nextToStep3.disabled = !validateCode(elements.authCode.value);
      elements.confirmProfileBtn.disabled = !validateUsername(elements.username.value) || !document.querySelector('.character-card.selected');
    }
    function updateUsernameStrength() {
      const name = elements.username.value;
      if (name.length < 3) {
        elements.usernameStrength.className = 'username-strength weak';
      } else if (name.length < 6) {
        elements.usernameStrength.className = 'username-strength medium';
      } else {
        elements.usernameStrength.className = 'username-strength strong';
      }
    }
    function generateCaptcha() {
      captchaNum1 = Math.floor(Math.random() * 10) + 1;
      captchaNum2 = Math.floor(Math.random() * 10) + 1;
      captchaResult = captchaNum1 + captchaNum2;
      elements.captchaQuestion.textContent = `ÿ≠ÿßÿµŸÑ ÿ¨ŸÖÿπ ${captchaNum1} + ${captchaNum2} ⁄Ü€åÿ≥ÿ™ÿü`;
    }
    function showSpinner(button) {
      button.innerHTML = '<div class="spinner"></div>';
      button.disabled = true;
    }
    function hideSpinner(button, text) {
      button.innerHTML = text;
      button.disabled = false;
    }
    function simulateSendCode(phone) {
      // Simulate API call
      console.log('Code sent to:', phone);
      // For demo, assume code is '123456'
      return '123456';
    }
    function simulateVerifyCode(code, phone) {
      // For demo, check if code is '123456'
      if (code === '123456') {
        // Check if user exists
        if (sessionStorage.getItem(`user_${phone}`)) {
          userData = JSON.parse(sessionStorage.getItem(`user_${phone}`));
          isNewUser = false;
        } else {
          isNewUser = true;
        }
        return true;
      }
      return false;
    }
    function startCountdown(timerSeconds = 60) {
      let seconds = timerSeconds;
      elements.authCountdown.innerHTML = seconds;
      elements.authTimer.style.display = 'block';
      elements.resendCodeBtn.style.display = 'none';
      authCountdownInterval = setInterval(() => {
        seconds--;
        elements.authCountdown.innerHTML = seconds;
        if (seconds <= 0) {
          clearInterval(authCountdownInterval);
          elements.authTimer.style.display = 'none';
          elements.resendCodeBtn.style.display = 'block';
        }
      }, 1000);
    }
    function updateUserUI() {
      if (userData) {
        elements.profileIcon.style.display = 'none';
        const avatar = document.createElement('div');
        avatar.className = 'user-avatar';
        avatar.textContent = userData.character;
        elements.userProfile.appendChild(avatar);
        elements.userAvatar.textContent = userData.character;
        elements.userName.textContent = escapeHTML(userData.username);
      } else {
        if (elements.userProfile.querySelector('.user-avatar')) {
          elements.userProfile.querySelector('.user-avatar').remove();
        }
        elements.profileIcon.style.display = 'block';
      }
    }
    function escapeHTML(str) {
      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
    }
    // Support Widget Visibility
    function handleSupportWidgetVisibility() {
      const footer = document.querySelector('footer');
      const footerRect = footer.getBoundingClientRect();
      const windowHeight = window.innerHeight;
     
      // If footer is visible in viewport, hide support widget
      if (footerRect.top < windowHeight && footerRect.bottom >= 0) {
        elements.supportWidget.classList.add('hidden');
      } else {
        elements.supportWidget.classList.remove('hidden');
      }
    }
    // Main Image Click Handler
    function handleMainImageClick() {
      const mainImage = document.getElementById('mainImage');
      if (mainImage) {
        mainImage.addEventListener('click', function() {
          // Create modal for image
          const modal = document.createElement('div');
          modal.style.position = 'fixed';
          modal.style.top = '0';
          modal.style.left = '0';
          modal.style.width = '100%';
          modal.style.height = '100%';
          modal.style.backgroundColor = 'rgba(0,0,0,0.9)';
          modal.style.display = 'flex';
          modal.style.justifyContent = 'center';
          modal.style.alignItems = 'center';
          modal.style.zIndex = '2000';
          modal.style.cursor = 'pointer';
         
          const img = document.createElement('img');
          img.src = this.src;
          img.style.maxWidth = '90%';
          img.style.maxHeight = '90%';
          img.style.borderRadius = '10px';
         
          modal.appendChild(img);
          document.body.appendChild(modal);
         
          // Close on click
          modal.addEventListener('click', function() {
            document.body.removeChild(modal);
          });
        });
      }
    }
    // Event Listeners
    elements.menuToggle.addEventListener('click', () => {
      if (elements.sideMenu.classList.contains('active')) {
        closeMenu();
      } else {
        openMenu();
      }
    });
    elements.closeBtn.addEventListener('click', closeMenu);
    elements.userProfile.addEventListener('click', (e) => {
      e.preventDefault();
      if (userData) {
        elements.userMenu.classList.toggle('active');
      } else {
        openAuthModalFunc();
      }
    });
    elements.closeAuthModal.addEventListener('click', closeAuthModalFunc);
    elements.authPhone.addEventListener('input', (e) => {
      maskInput(e.target, /[^0-9]/g);
      elements.authPhoneError.style.display = validatePhone(e.target.value) ? 'none' : 'block';
      updateButtonStates();
    });
    elements.captchaAnswer.addEventListener('input', () => {
      elements.captchaError.style.display = validateCaptcha(elements.captchaAnswer.value) ? 'none' : 'block';
      updateButtonStates();
    });
    elements.nextToStep2.addEventListener('click', (e) => {
      e.preventDefault();
      if (!validateCaptcha(elements.captchaAnswer.value)) {
        elements.captchaError.style.display = 'block';
        return;
      }
      elements.captchaError.style.display = 'none';
      const phone = elements.authPhone.value;
      if (!validatePhone(phone)) {
        elements.authPhoneError.style.display = 'block';
        return;
      }
      elements.authPhoneError.style.display = 'none';
      currentPhone = phone;
      showSpinner(elements.nextToStep2);
      setTimeout(() => {
        simulateSendCode(phone);
        elements.authSuccess.style.display = 'block';
        elements.step1.classList.remove('active');
        elements.step2.classList.add('active');
        hideSpinner(elements.nextToStep2, 'ÿ®ÿπÿØ€å');
        let timer = failedAttempts > 5 ? 300 : 60;
        startCountdown(timer);
      }, 1000); // Simulate delay
    });
    elements.prevToStep1.addEventListener('click', () => {
      elements.step2.classList.remove('active');
      elements.step1.classList.add('active');
      elements.authSuccess.style.display = 'none';
      elements.authTimer.style.display = 'none';
      elements.resendCodeBtn.style.display = 'none';
      if (authCountdownInterval) clearInterval(authCountdownInterval);
    });
    elements.authCode.addEventListener('input', (e) => {
      maskInput(e.target, /[^0-9]/g);
      elements.authCodeError.style.display = validateCode(e.target.value) ? 'none' : 'block';
      updateButtonStates();
    });
    elements.authCode.addEventListener('contextmenu', (e) => e.preventDefault());
    elements.authCode.addEventListener('paste', (e) => e.preventDefault());
    elements.authCode.addEventListener('copy', (e) => e.preventDefault());
    elements.nextToStep3.addEventListener('click', (e) => {
      e.preventDefault();
      const code = elements.authCode.value;
      showSpinner(elements.nextToStep3);
      setTimeout(() => {
        if (simulateVerifyCode(code, currentPhone)) {
          failedAttempts = 0;
          sessionStorage.setItem('failedAttempts', failedAttempts);
          elements.authCodeError.style.display = 'none';
          hideSpinner(elements.nextToStep3, 'ÿ™ÿ£€å€åÿØ');
          if (isNewUser) {
            elements.step2.classList.remove('active');
            elements.step3.classList.add('active');
            elements.username.value = `user${currentPhone.slice(-4)}`;
            updateUsernameStrength();
            updateButtonStates();
          } else {
            sessionStorage.setItem('userData', JSON.stringify(userData));
            updateUserUI();
            closeAuthModalFunc();
            alert('Ÿàÿ±ŸàÿØ ŸÖŸàŸÅŸÇ!');
          }
        } else {
          failedAttempts++;
          sessionStorage.setItem('failedAttempts', failedAttempts);
          elements.authCodeError.textContent = `⁄©ÿØ ŸÜÿßŸÖÿπÿ™ÿ®ÿ± ÿßÿ≥ÿ™. ÿ™ŸÑÿßÿ¥‚ÄåŸáÿß€å ÿ®ÿßŸÇ€å‚ÄåŸÖÿßŸÜÿØŸá: ${5 - (failedAttempts % 6)}`;
          elements.authCodeError.style.display = 'block';
          if (failedAttempts >= 5) {
            console.error('Too many failed attempts');
            elements.authCodeError.textContent = 'ÿ™ÿπÿØÿßÿØ ÿ™ŸÑÿßÿ¥‚ÄåŸáÿß ÿ®€åÿ¥ ÿßÿ≤ ÿ≠ÿØ ŸÖÿ¨ÿßÿ≤. ŸÑÿ∑ŸÅÿßŸã ÿ®ÿπÿØÿßŸã ÿßŸÖÿ™ÿ≠ÿßŸÜ ⁄©ŸÜ€åÿØ.';
            elements.nextToStep3.disabled = true;
            lockTimer = 300; // 5 minutes lock
            setTimeout(() => {
              elements.nextToStep3.disabled = false;
              failedAttempts = 0;
              sessionStorage.setItem('failedAttempts', failedAttempts);
            }, lockTimer * 1000);
          }
          hideSpinner(elements.nextToStep3, 'ÿ™ÿ£€å€åÿØ');
        }
      }, 1000);
    });
    elements.resendCodeBtn.addEventListener('click', () => {
      simulateSendCode(currentPhone);
      let timer = failedAttempts > 5 ? 300 : 60;
      startCountdown(timer);
    });
    elements.toggleAuthCode.addEventListener('click', () => {
      const type = elements.authCode.type === 'password' ? 'text' : 'password';
      elements.authCode.type = type;
      elements.toggleAuthCode.classList.toggle('fa-eye-slash', type === 'password');
    });
    elements.prevToStep2.addEventListener('click', () => {
      elements.step3.classList.remove('active');
      elements.step2.classList.add('active');
    });
    elements.username.addEventListener('input', (e) => {
      maskInput(e.target, /[^a-zA-Z0-9]/g);
      elements.usernameError.style.display = validateUsername(e.target.value) ? 'none' : 'block';
      updateUsernameStrength();
      updateButtonStates();
    });
    elements.characterCards.forEach(card => {
      card.addEventListener('click', () => {
        elements.characterCards.forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');
        updateButtonStates();
      });
    });
    elements.confirmProfileBtn.addEventListener('click', () => {
      const name = elements.username.value;
      const selectedChar = document.querySelector('.character-card.selected');
      if (!validateUsername(name)) {
        elements.usernameError.style.display = 'block';
        return;
      }
      if (!selectedChar) {
        alert('ŸÑÿ∑ŸÅÿßŸã €å⁄© ⁄©ÿßÿ±ÿß⁄©ÿ™ÿ± ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ');
        return;
      }
      elements.usernameError.style.display = 'none';
      userData = {
        phone: currentPhone,
        username: name,
        character: selectedChar.dataset.char
      };
      sessionStorage.setItem(`user_${currentPhone}`, JSON.stringify(userData));
      sessionStorage.setItem('userData', JSON.stringify(userData));
      updateUserUI();
      closeAuthModalFunc();
      alert('ÿ´ÿ®ÿ™‚ÄåŸÜÿßŸÖ ŸÖŸàŸÅŸÇ!');
    });
    elements.logoutBtn.addEventListener('click', () => {
      elements.userMenu.classList.remove('active');
      elements.logoutModal.classList.add('active');
      elements.overlay.classList.add('active');
    });
    elements.confirmLogout.addEventListener('click', () => {
      userData = null;
      sessionStorage.removeItem('userData');
      updateUserUI();
      elements.logoutModal.classList.remove('active');
      elements.overlay.classList.remove('active');
    });
    elements.cancelLogout.addEventListener('click', () => {
      elements.logoutModal.classList.remove('active');
      elements.overlay.classList.remove('active');
    });
    document.querySelector('.search-icon').addEventListener('click', () => {
      if (elements.searchInput.value.trim()) {
        console.log('ÿ¨ÿ≥ÿ™ÿ¨Ÿà ÿ®ÿ±ÿß€å:', elements.searchInput.value);
      } else {
        openSearch();
      }
    });
    elements.overlay.addEventListener('click', () => {
      closeMenu();
      closeSearch();
      elements.userMenu.classList.remove('active');
      elements.logoutModal.classList.remove('active');
      closeAuthModalFunc();
    });
    elements.searchInputLegacy.addEventListener('input', (e) => {
      performSearch(e.target.value);
    });
    elements.searchInput.addEventListener("input", (e) => {
      elements.clearSearch.classList.toggle('active', e.target.value.length > 0);
      showSearchSuggestions(e.target.value);
    });
    elements.clearSearch.addEventListener("click", () => {
      elements.searchInput.value = '';
      elements.clearSearch.classList.remove('active');
      elements.searchInput.focus();
      elements.searchResults.innerHTML = '';
    });
    // Keyboard Navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeMenu();
        closeSearch();
        elements.userMenu.classList.remove('active');
        elements.logoutModal.classList.remove('active');
        closeAuthModalFunc();
      }
    });
    // Scroll event for support widget
    window.addEventListener('scroll', handleSupportWidgetVisibility);
    // Initialize
    updateTime();
    setInterval(updateTime, 1000);
    setInterval(changePromoText, 5000);
    initScrollAnimations();
    updateSlider(); // Initial slider position
    updatePrice(); // Initial price
    updateCart(); // Initial cart
    updateUserUI(); // Initial user UI
    handleSupportWidgetVisibility(); // Initial widget visibility
    handleMainImageClick(); // Add click handler for main image
    // Size Buttons
    document.querySelectorAll('.size-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        basePrice = parseInt(btn.dataset.price);
        updatePrice();
      });
    });
    // Categories Tabs
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.category-btn').forEach(b => {
          b.classList.remove('active');
          b.setAttribute('aria-selected', 'false');
        });
        btn.classList.add('active');
        btn.setAttribute('aria-selected', 'true');
      });
    });
    // Auto open auth modal after 1 minute if not logged in
    setTimeout(() => {
      if (!authModalShown && !userData) {
        openAuthModalFunc();
      }
    }, 60000); // 1 minute
    // Mobile-specific optimizations
    function handleMobileOptimizations() {
      const isMobile = window.innerWidth <= 576;
     
      if (isMobile) {
        // Optimize product gallery for mobile
        const thumbnails = document.querySelector('.product-thumbnails');
        if (thumbnails) {
          thumbnails.style.flexWrap = 'wrap';
          thumbnails.style.justifyContent = 'center';
        }
       
        // Optimize cart items for mobile
        const cartItems = document.querySelectorAll('.cart-item');
        cartItems.forEach(item => {
          item.style.flexDirection = 'row-reverse';
          item.style.justifyContent = 'flex-end';
          item.style.gap = '8px';
        });
       
        // Optimize recommendations for mobile
        const recGrid = document.querySelector('.rec-grid');
        if (recGrid) {
          recGrid.style.gridTemplateColumns = '1fr';
        }
      }
    }
    // Call on load and resize
    handleMobileOptimizations();
    window.addEventListener('resize', handleMobileOptimizations);
  </script>
  <script src="data.js" defer></script>
  <script defer>
    // ŸÖŸÜÿ™ÿ∏ÿ± ŸÖ€å‚ÄåŸÖŸàŸÜ€åŸÖ ÿ™ÿß data.js ⁄©ÿßŸÖŸÑ ŸÑŸàÿØ ÿ®ÿ¥Ÿá
    window.addEventListener('dataLoaded', () => {
      // ÿ≠ÿßŸÑÿß ŸÖÿ∑ŸÖÿ¶ŸÜ€åŸÖ products Ÿà productsDatabase ŸÖŸàÿ¨ŸàÿØ Ÿáÿ≥ÿ™ŸÜ

      // 1. ⁄Øÿ±ŸÅÿ™ŸÜ ID ÿßÿ≤ URL
      const params = new URLSearchParams(window.location.search);
      const productId = parseInt(params.get('id'));

      // 2. Ÿæ€åÿØÿß ⁄©ÿ±ÿØŸÜ ŸÖÿ≠ÿµŸàŸÑ ÿßÿµŸÑ€å
      const product = productsDatabase.find(p => p.id === productId);

      if (product) {
        // Ÿæÿ± ⁄©ÿ±ÿØŸÜ ÿ¨ÿ≤ÿ¶€åÿßÿ™ ŸÖÿ≠ÿµŸàŸÑ
        document.getElementById('detail-image').src = product.image || 'placeholder.jpg';
        document.getElementById('detail-title').textContent = product.name;
        document.getElementById('detail-desc').textContent = product.description || '';
        document.getElementById('detail-price').textContent = product.priceText || '€∞ ÿ™ŸàŸÖÿßŸÜ';

        if (product.details) {
          const ingredientsEl = document.getElementById('detail-ingredients');
          const nutritionEl = document.getElementById('detail-nutrition_info ');
          if (ingredientsEl) ingredientsEl.textContent = "ŸÖŸàÿßÿØ ÿßŸàŸÑ€åŸá: " + product.details.ingredients;
          if (nutritionEl) nutritionEl.textContent = "Ÿà€å⁄ò⁄Ø€å ÿ™ÿ∫ÿ∞€åŸá‚Äåÿß€å: " + product.details.nutrition_info;
        }

        document.title = product.name + " - ŸÅ€åŸÜ⁄Øÿ±ŸÅŸàÿØ ŸÅ€åÿ±Ÿàÿ≤Ÿá";

        // 3. ŸÑŸàÿØ Ÿæ€åÿ¥ŸÜŸáÿßÿØŸáÿß€å ŸáŸÖÿ±ÿßŸá Ÿà ÿÆÿ±€åÿØÿßÿ±ÿßŸÜ ÿØ€å⁄Øÿ±
        loadComplementaryProducts(product, products);
        loadAlsoViewedProducts(product, products);

      } else {
        document.querySelector('.product-detail').innerHTML = 
          '<h1>ŸÖÿ≠ÿµŸàŸÑ ŸÖŸàÿ±ÿØ ŸÜÿ∏ÿ± €åÿßŸÅÿ™ ŸÜÿ¥ÿØ :(</h1><a href="finger-food.html">ÿ®ÿßÿ≤⁄Øÿ¥ÿ™ ÿ®Ÿá ŸÅÿ±Ÿàÿ¥⁄ØÿßŸá</a>';
      }
    });

    // ÿß⁄Øÿ± data.js ŸÇÿ®ŸÑÿßŸã ŸÑŸàÿØ ÿ¥ÿØŸá ÿ®ÿßÿ¥Ÿá (ŸÖÿ´ŸÑÿßŸã ⁄©ÿ¥ ÿ¥ÿØŸá)ÿå ŸÅŸàÿ±ÿßŸã ÿßÿ¨ÿ±ÿß ⁄©ŸÜ
    if (window.products && window.productsDatabase) {
      window.dispatchEvent(new Event('dataLoaded'));
    }
  </script>
</body>
</html>